"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7413],{37413:(e,t,n)=>{n.d(t,{YY:()=>tu});var r,i,o,s,a,u,c,h=n(12115);function l(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}(arguments[t]));return e}var f=function(e){return void 0===e},d=function(){function e(e,t){var n,r;if(this._canceled=!1,t)try{for(var i=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(Object.keys(t)),o=i.next();!o.done;o=i.next()){var s=o.value;this[s]=t[s]}}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}this.eventType=e}var t=e.prototype;return t.stop=function(){this._canceled=!0},t.isCanceled=function(){return this._canceled},e}(),p=function(){function e(){this._eventHandler={}}var t=e.prototype;return t.trigger=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=e instanceof d?e.eventType:e,i=l(this._eventHandler[r]||[]);return i.length<=0||(e instanceof d?(e.currentTarget=this,i.forEach(function(t){t(e)})):i.forEach(function(e){e.apply(void 0,l(t))})),this},t.once=function(e,t){var n=this;if("object"==typeof e&&f(t))for(var r in e)this.once(r,e[r]);else if("string"==typeof e&&"function"==typeof t){var i=function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];t.apply(void 0,l(r)),n.off(e,i)};this.on(e,i)}return this},t.hasOn=function(e){return!!this._eventHandler[e]},t.on=function(e,t){if("object"==typeof e&&f(t))for(var n in e)this.on(n,e[n]);else if("string"==typeof e&&"function"==typeof t){var r=this._eventHandler[e];f(r)&&(this._eventHandler[e]=[],r=this._eventHandler[e]),r.push(t)}return this},t.off=function(e,t){if(f(e))return this._eventHandler={},this;if(f(t))if("string"==typeof e)return delete this._eventHandler[e],this;else{for(var n in e)this.off(n,e[n]);return this}var r=this._eventHandler[e];if(r){for(var i=r.length,o=0;o<i;++o)if(r[o]===t){r.splice(o,1),i<=1&&delete this._eventHandler[e];break}}return this},e.VERSION="3.0.5",e}(),g=function(){function e(){this.keys=[],this.values=[]}var t=e.prototype;return t.get=function(e){return this.values[this.keys.indexOf(e)]},t.set=function(e,t){var n=this.keys,r=this.values,i=n.indexOf(e),o=-1===i?n.length:i;n[o]=e,r[o]=t},e}(),m=function(){function e(){this.object={}}var t=e.prototype;return t.get=function(e){return this.object[e]},t.set=function(e,t){this.object[e]=t},e}(),y="function"==typeof Map,v=function(){function e(){}var t=e.prototype;return t.connect=function(e,t){this.prev=e,this.next=t,e&&(e.next=this),t&&(t.prev=this)},t.disconnect=function(){var e=this.prev,t=this.next;e&&(e.next=t),t&&(t.prev=e)},t.getIndex=function(){for(var e=this,t=-1;e;)e=e.prev,++t;return t},e}(),R=function(){function e(e,t,n,r,i,o,s,a){this.prevList=e,this.list=t,this.added=n,this.removed=r,this.changed=i,this.maintained=o,this.changedBeforeAdded=s,this.fixed=a}var t=e.prototype;return Object.defineProperty(t,"ordered",{get:function(){return this.cacheOrdered||this.caculateOrdered(),this.cacheOrdered},enumerable:!0,configurable:!0}),Object.defineProperty(t,"pureChanged",{get:function(){return this.cachePureChanged||this.caculateOrdered(),this.cachePureChanged},enumerable:!0,configurable:!0}),t.caculateOrdered=function(){var e,t,n,r,i=(e=this.changedBeforeAdded,t=this.fixed,n=[],r=[],e.forEach(function(e){var t=e[0],i=e[1],o=new v;n[t]=o,r[i]=o}),n.forEach(function(e,t){e.connect(n[t-1])}),e.filter(function(e,n){return!t[n]}).map(function(e,t){var i=e[0],o=e[1];if(i===o)return[0,0];var s=n[i],a=r[o-1],u=s.getIndex();return s.disconnect(),a?s.connect(a,a.next):s.connect(void 0,n[0]),[u,s.getIndex()]})),o=this.changed,s=[];this.cacheOrdered=i.filter(function(e,t){var n=e[0],r=e[1],i=o[t],a=i[0],u=i[1];if(n!==r)return s.push([a,u]),!0}),this.cachePureChanged=s},e}();function _(e,t,n){var r=y?Map:n?m:g,i=n||function(e){return e},o=[],s=[],a=[],u=e.map(i),c=t.map(i),h=new r,l=new r,f=[],d=[],p={},v=[],_=0,S=0;return u.forEach(function(e,t){h.set(e,t)}),c.forEach(function(e,t){l.set(e,t)}),u.forEach(function(e,t){var n=l.get(e);void 0===n?(++S,s.push(t)):p[n]=S}),c.forEach(function(e,t){var n=h.get(e);void 0===n?(o.push(t),++_):(a.push([n,t]),S=p[t]||0,f.push([n-S,t-_]),d.push(t===n),n!==t&&v.push([n,t]))}),s.reverse(),new R(e,t,o,s,v,a,f,d)}var S="function"==typeof Map?void 0:function(){var e=0;return function(t){return t.__DIFF_KEY__||(t.__DIFF_KEY__=++e)}}(),E=function(e,t){return(E=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function I(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}E(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var z=function(){return(z=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},C="undefined"!=typeof window,O=C?window.navigator.userAgent:"",P=!!C&&"getComputedStyle"in window,b=/MSIE|Trident|Windows Phone|Edge/.test(O),w=!!C&&"addEventListener"in document,T="width",x="height";function M(e,t){return e.getAttribute(t)||""}function D(e){return[].slice.call(e)}function L(e,t){return void 0===t&&(t="data-"),"loading"in e&&"lazy"===e.getAttribute("loading")||!!e.getAttribute(t+"lazy")}function k(e,t,n){w?e.addEventListener(t,n,!1):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n}function N(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=null}function A(e,t){return parseFloat(e["client"+t]||e["offset"+t]||((P?window.getComputedStyle(e):e.currentStyle)||{})[t.toLowerCase()])||0}var G=[];function K(e,t){G.length||k(window,"resize",U),e.__PREFIX__=t,G.push(e),V(e)}function V(e,t){void 0===t&&(t="data-");var n=e.__PREFIX__||t,r=parseInt(M(e,""+n+T),10)||0,i=parseInt(M(e,""+n+x),10)||0;if(M(e,n+"fixed")===x){var o=A(e,"Height")||i;e.style[T]=r/i*o+"px"}else{var o=A(e,"Width")||r;e.style[x]=i/r*o+"px"}}function U(){G.forEach(function(e){V(e)})}var j=function(e){function t(t,n){void 0===n&&(n={});var r,i,o=e.call(this)||this;o.isReady=!1,o.isPreReady=!1,o.hasDataSize=!1,o.hasLoading=!1,o.isSkip=!1,o.onCheck=function(e){o.clear(),e&&"error"===e.type&&o.onError(o.element),o.hasLoading&&o.checkElement()||o.onReady()},o.options=z({prefix:"data-"},n),o.element=t;var s=o.options.prefix;return void 0===(r=s)&&(r="data-"),o.hasDataSize=!!t.getAttribute(r+"width"),void 0===(i=s)&&(i="data-"),o.isSkip=!!t.getAttribute(i+"skip"),o.hasLoading=L(t,s),o}I(t,e);var n=t.prototype;return n.check=function(){return this.isSkip||!this.checkElement()?(this.onAlreadyReady(),!1):(this.hasDataSize&&K(this.element,this.options.prefix),(this.hasDataSize||this.hasLoading)&&this.onAlreadyPreReady(),!0)},n.addEvents=function(){var e=this,t=this.element;this.constructor.EVENTS.forEach(function(n){k(t,n,e.onCheck)})},n.clear=function(){var e=this,t=this.element;this.constructor.EVENTS.forEach(function(n){N(t,n,e.onCheck)}),this.removeAutoSizer()},n.destroy=function(){this.clear(),this.off()},n.removeAutoSizer=function(){if(this.hasDataSize){var e=this.options.prefix,t=this.element,n=G.indexOf(t);if(!(n<0)){var r=M(t,e+"fixed");delete t.__PREFIX__,t.style[r===x?T:x]="",G.splice(n,1),G.length||N(window,"resize",U)}}},n.onError=function(e){this.trigger("error",{element:this.element,target:e})},n.onPreReady=function(){this.isPreReady||(this.isPreReady=!0,this.trigger("preReady",{element:this.element,hasLoading:this.hasLoading,isSkip:this.isSkip}))},n.onReady=function(){var e=this.isPreReady;this.isPreReady=!0,this.isReady||(this.removeAutoSizer(),this.isReady=!0,this.trigger("ready",{element:this.element,withPreReady:!e,hasLoading:this.hasLoading,isSkip:this.isSkip}))},n.onAlreadyError=function(e){var t=this;setTimeout(function(){t.onError(e)})},n.onAlreadyPreReady=function(){var e=this;setTimeout(function(){e.onPreReady()})},n.onAlreadyReady=function(){var e=this;setTimeout(function(){e.onReady()})},t.EVENTS=[],t}(p),q=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}I(t,e);var n=t.prototype;return n.setHasLoading=function(e){this.hasLoading=e},n.check=function(){return this.isSkip?(this.onAlreadyReady(),!1):(this.hasDataSize?(K(this.element,this.options.prefix),this.onAlreadyPreReady()):this.trigger("requestChildren"),!0)},n.checkElement=function(){return!0},n.destroy=function(){this.clear(),this.trigger("requestDestroy"),this.off()},n.onAlreadyPreReady=function(){e.prototype.onAlreadyPreReady.call(this),this.trigger("reqeustReadyChildren")},t.EVENTS=[],t}(j),B=function(e){function t(t){void 0===t&&(t={});var n=e.call(this)||this;return n.readyCount=0,n.preReadyCount=0,n.totalCount=0,n.totalErrorCount=0,n.isPreReadyOver=!0,n.elementInfos=[],n.options=z({loaders:{},prefix:"data-"},t),n}I(t,e);var n=t.prototype;return n.check=function(e){var t=this,n=this.options.prefix;this.clear(),this.elementInfos=D(e).map(function(e,r){var i=t.getLoader(e,{prefix:n});return i.check(),i.on("error",function(e){t.onError(r,e.target)}).on("preReady",function(e){var n=t.elementInfos[r];n.hasLoading=e.hasLoading,n.isSkip=e.isSkip;var i=t.checkPreReady(r);t.onPreReadyElement(r),i&&t.onPreReady()}).on("ready",function(e){var n=e.withPreReady,i=e.hasLoading,o=e.isSkip,s=t.elementInfos[r];s.hasLoading=i,s.isSkip=o;var a=n&&t.checkPreReady(r),u=t.checkReady(r);n&&t.onPreReadyElement(r),t.onReadyElement(r),a&&t.onPreReady(),u&&t.onReady()}),{loader:i,element:e,hasLoading:!1,hasError:!1,isPreReady:!1,isReady:!1,isSkip:!1}});var r=this.elementInfos.length;return this.totalCount=r,r||setTimeout(function(){t.onPreReady(),t.onReady()}),this},n.getTotalCount=function(){return this.totalCount},n.isPreReady=function(){return this.elementInfos.every(function(e){return e.isPreReady})},n.isReady=function(){return this.elementInfos.every(function(e){return e.isReady})},n.hasError=function(){return this.totalErrorCount>0},n.clear=function(){this.isPreReadyOver=!1,this.totalCount=0,this.preReadyCount=0,this.readyCount=0,this.totalErrorCount=0,this.elementInfos.forEach(function(e){e.loader&&e.loader.destroy()}),this.elementInfos=[]},n.destroy=function(){this.clear(),this.off()},n.getLoader=function(e,t){var n=this,r=e.tagName.toLowerCase(),i=this.options.loaders,o=t.prefix,s=Object.keys(i);if(i[r])return new i[r](e,t);var a=new q(e,t),u=D(e.querySelectorAll(s.join(", ")));a.setHasLoading(u.some(function(e){return L(e,o)}));var c=this.clone().on("error",function(e){a.onError(e.target)}).on("ready",function(){a.onReady()});return a.on("requestChildren",function(){var t,r,i=(t=n.options.prefix,r=D(e.querySelectorAll((function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r})(["["+t+"skip] ["+t+"width]"],s.map(function(e){return["["+t+"skip] "+e,e+"["+t+"skip]","["+t+"width] "+e].join(", ")})).join(", "))),D(e.querySelectorAll("["+t+"width], "+s.join(", "))).filter(function(e){return -1===r.indexOf(e)}));c.check(i).on("preReady",function(e){e.isReady||a.onPreReady()})}).on("reqeustReadyChildren",function(){c.check(u)}).on("requestDestroy",function(){c.destroy()}),a},n.clone=function(){return new t(z({},this.options))},n.checkPreReady=function(e){return this.elementInfos[e].isPreReady=!0,++this.preReadyCount,!(this.preReadyCount<this.totalCount)},n.checkReady=function(e){return this.elementInfos[e].isReady=!0,++this.readyCount,!(this.readyCount<this.totalCount)},n.onError=function(e,t){var n=this.elementInfos[e];n.hasError=!0,this.trigger(new d("error",{element:n.element,index:e,target:t,errorCount:this.getErrorCount(),totalErrorCount:++this.totalErrorCount}))},n.onPreReadyElement=function(e){var t=this.elementInfos[e];this.trigger(new d("preReadyElement",{element:t.element,index:e,preReadyCount:this.preReadyCount,readyCount:this.readyCount,totalCount:this.totalCount,isPreReady:this.isPreReady(),isReady:this.isReady(),hasLoading:t.hasLoading,isSkip:t.isSkip}))},n.onPreReady=function(){this.isPreReadyOver=!0,this.trigger(new d("preReady",{readyCount:this.readyCount,totalCount:this.totalCount,isReady:this.isReady(),hasLoading:this.hasLoading()}))},n.onReadyElement=function(e){var t=this.elementInfos[e];this.trigger(new d("readyElement",{index:e,element:t.element,hasError:t.hasError,errorCount:this.getErrorCount(),totalErrorCount:this.totalErrorCount,preReadyCount:this.preReadyCount,readyCount:this.readyCount,totalCount:this.totalCount,isPreReady:this.isPreReady(),isReady:this.isReady(),hasLoading:t.hasLoading,isPreReadyOver:this.isPreReadyOver,isSkip:t.isSkip}))},n.onReady=function(){this.trigger(new d("ready",{errorCount:this.getErrorCount(),totalErrorCount:this.totalErrorCount,totalCount:this.totalCount}))},n.getErrorCount=function(){return this.elementInfos.filter(function(e){return e.hasError}).length},n.hasLoading=function(){return this.elementInfos.some(function(e){return e.hasLoading})},t}(p),F=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return I(t,e),t.prototype.checkElement=function(){var e=this.element,t=e.getAttribute("src");if(e.complete)if(t)return e.naturalWidth||this.onAlreadyError(e),!1;else this.onAlreadyPreReady();return this.addEvents(),b&&e.setAttribute("src",t),!0},t.EVENTS=["load","error"],t}(j),H=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return I(t,e),t.prototype.checkElement=function(){var e=this.element;return!(e.readyState>=1)&&(e.error?(this.onAlreadyError(e),!1):(this.addEvents(),!0))},t.EVENTS=["loadedmetadata","error"],t}(j),Y=function(e){function t(t){return void 0===t&&(t={}),e.call(this,z({loaders:{img:F,video:H}},t))||this}return I(t,e),t}(B),W=function(e,t){return(W=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function Z(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}W(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var X=function(){return(X=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function Q(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s}function $(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e}var J={horizontal:!1,useTransform:!1,percentage:!1,isEqualSize:!1,isConstantSize:!1,gap:0,attributePrefix:"data-grid-",resizeDebounce:100,maxResizeDebounce:0,autoResize:!0,preserveUIOnDestroy:!1,defaultDirection:"end",externalContainerManager:null,externalItemRenderer:null,renderOnPropertyChange:!0,useFit:!0,outlineLength:0,outlineSize:0,useRoundedSize:!0,useResizeObserver:!1,observeChildren:!1};!function(e){e[e.PROPERTY=1]="PROPERTY",e[e.RENDER_PROPERTY=2]="RENDER_PROPERTY"}(i||(i={})),function(e){e[e.UNCHECKED=1]="UNCHECKED",e[e.UNMOUNTED=2]="UNMOUNTED",e[e.MOUNTED=3]="MOUNTED"}(o||(o={})),function(e){e[e.NEED_UPDATE=1]="NEED_UPDATE",e[e.WAIT_LOADING=2]="WAIT_LOADING",e[e.UPDATED=3]="UPDATED"}(s||(s={}));var ee={gap:i.RENDER_PROPERTY,defaultDirection:i.PROPERTY,renderOnPropertyChange:i.PROPERTY,preserveUIOnDestroy:i.PROPERTY,useFit:i.PROPERTY,outlineSize:i.RENDER_PROPERTY,outlineLength:i.RENDER_PROPERTY},et={horizontal:{inlinePos:"top",contentPos:"left",inlineSize:"height",contentSize:"width"},vertical:{inlinePos:"left",contentPos:"top",inlineSize:"width",contentSize:"height"}};function en(e,t){var n=er(e);return _(t.map(function(e){return e.target}),n.map(function(e){return e.element}),S).maintained.filter(function(n){var r=n[0],i=n[1],o=t[r].size,s=e[i];return!s.inlineSize||!s.contentSize||o.inlineSize!==s.computedInlineSize||o.blockSize!==s.computedContentSize}).map(function(t){return e[t[1]]})}function er(e){return e.filter(function(e){return e.element})}function ei(e){return er(e).map(function(e){return e.element})}function eo(e){return"string"==typeof e}function es(e){return"object"==typeof e}function ea(e){return"number"==typeof e}function eu(e){return e.reduce(function(e,t){return e+t},0)}function ec(e){var t=e.prototype,n=e.propertyTypes,r=function(e){var r=n[e]===i.RENDER_PROPERTY,o=Object.getOwnPropertyDescriptor(t,e)||{},s=o.get||function(){return this.options[e]},a=o.set||function(t){var n=this.options;n[e]!==t&&(n[e]=t,r&&n.renderOnPropertyChange&&this.scheduleRender())};Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:s,set:a})};for(var o in n)r(o)}function eh(e,t){return Math.max(e-t[1],t[0]-e,0)+1}function el(e,t,n){return Math.min(n,Math.max(e,t))}function ef(e,t){return t?Math.round(e/t)/(1/t):e}var ed=function(){function e(e,t){var n=this;void 0===t&&(t={}),this._resizeTimer=0,this._maxResizeDebounceTimer=0,this.rect={width:0,height:0},this._updatedEntries=[],this._onWindowResize=function(){n._scheduleResize([{target:n.container}])},this._onObserve=function(e){var t=n._options,r=n.container,i=t.rectBox,o=t.childrenRectBox;n._scheduleResize(e.map(function(e){var t="border-box"===(e.target===r?i:o)?e.borderBoxSize:e.contentBoxSize;if(!t){var n=e.contentRect;t=[{inlineSize:n.width,blockSize:n.height}]}return{size:t[0]||t,target:e.target}}))},this._scheduleResize=function(e){var t=n._options,r=t.resizeDebounce,i=t.maxResizeDebounce,o=n._updatedEntries;o.push.apply(o,e),n._updatedEntries=o.filter(function(e,t){return o.lastIndexOf(e)===t}),!n._maxResizeDebounceTimer&&i>=r&&(n._maxResizeDebounceTimer=window.setTimeout(n._onResize,i)),n._resizeTimer&&(clearTimeout(n._resizeTimer),n._resizeTimer=0),n._resizeTimer=window.setTimeout(n._onResize,r)},this._onResize=function(){clearTimeout(n._resizeTimer),clearTimeout(n._maxResizeDebounceTimer),n._maxResizeDebounceTimer=0,n._resizeTimer=0;var e,t=n._updatedEntries,r=n.container,i=t.filter(function(t){return t.target!==r||(e=t,!1)}),o=i.length>0,s=!!e;if(s){var a=n._options.watchDirection,u=n.rect,c=e.size;c?n.setRect({width:c.inlineSize,height:c.blockSize}):n.resize();var h=n.rect;s=!a||("box"===a||"width"===a)&&u.width!==h.width||("box"===a||"height"===a)&&u.height!==h.height}n._updatedEntries=[],(s||o)&&n._emitter.trigger("resize",{isResizeContainer:s,childEntries:i})},this._options=X({resizeDebounce:100,maxResizeDebounce:0,useResizeObserver:!1,useWindowResize:!0,watchDirection:!1,rectBox:"content-box",childrenRectBox:"border-box"},t),this.container=eo(e)?document.querySelector(e):e,this._init()}var t=e.prototype;return t.getRect=function(){return this.rect},t.setRect=function(e){this.rect=X({},e)},t.isObserverEnabled=function(){return!!this._observer},t.resize=function(){var e=this.container;this.setRect("border-box"===this._options.rectBox?{width:e.offsetWidth,height:e.offsetHeight}:{width:e.clientWidth,height:e.clientHeight})},t.observeChildren=function(e){var t=this._observer;if(t){var n=this._options.childrenRectBox;e.forEach(function(e){e&&t.observe(e,{box:n})})}},t.unobserveChildren=function(e){var t=this._observer;t&&e.forEach(function(e){e&&t.unobserve(e)})},t.listen=function(e){return this._emitter.on("resize",e),this},t.destroy=function(){var e;null==(e=this._observer)||e.disconnect(),this._options.useWindowResize&&window.removeEventListener("resize",this._onWindowResize)},t._init=function(){var e=this.container,t=this._options;this._emitter=new p,t.useResizeObserver&&window.ResizeObserver&&(this._observer=new window.ResizeObserver(this._onObserve),this._observer.observe(e,{box:t.rectBox})),t.useWindowResize&&window.addEventListener("resize",this._onWindowResize),this.resize()},e}(),ep=function(e){function t(t,n){var r=e.call(this)||this;return r.container=t,r._onResize=function(e){r.trigger("resize",e)},r.options=X({horizontal:J.horizontal,autoResize:J.autoResize,resizeDebounce:J.resizeDebounce,maxResizeDebounce:J.maxResizeDebounce,useResizeObserver:J.useResizeObserver},n),r._init(),r}Z(t,e);var n=t.prototype;return n.resize=function(){var e=this.container;this.setRect({width:e.clientWidth,height:e.clientHeight})},n.isObserverEnabled=function(){return this._watcher.isObserverEnabled()},n.getRect=function(){return this._watcher.getRect()},n.observeChildren=function(e){this._watcher.observeChildren(e)},n.unobserveChildren=function(e){this._watcher.unobserveChildren(e)},n.setRect=function(e){this._watcher.setRect(e)},n.getInlineSize=function(){return this.getRect()[this._names.inlineSize]},n.getContentSize=function(){return this.getRect()[this._names.contentSize]},n.getStatus=function(){return{rect:this._watcher.getRect()}},n.setStatus=function(e){this.setRect(e.rect),this.setContentSize(this.getContentSize())},n.setContentSize=function(e){var t,n=this.options.horizontal?"width":"height";this.setRect(X(X({},this.getRect()),((t={})[n]=e,t))),this.container.style[n]=e+"px"},n.destroy=function(e){void 0===e&&(e={}),this._watcher.destroy(),e.preserveUI||(this.container.style.cssText=this.orgCSSText)},n._init=function(){var e=this.container,t=window.getComputedStyle(e);this.orgCSSText=e.style.cssText,"static"===t.position&&(e.style.position="relative");var n=this.options;this._watcher=new ed(e,{useWindowResize:n.autoResize,useResizeObserver:n.useResizeObserver,resizeDebounce:n.resizeDebounce,maxResizeDebounce:n.maxResizeDebounce,watchDirection:!!n.useResizeObserver&&this._names.inlineSize}).listen(this._onResize)},Object.defineProperty(n,"_names",{get:function(){return et[this.options.horizontal?"horizontal":"vertical"]},enumerable:!1,configurable:!0}),t}(p),eg=function(){function e(e){this.initialRects={},this.sizePercetage=!1,this.posPercetage=!1,this.options=X({attributePrefix:J.attributePrefix,useTransform:J.useTransform,horizontal:J.horizontal,percentage:J.percentage,isEqualSize:J.isEqualSize,isConstantSize:J.isConstantSize,useRoundedSize:J.useRoundedSize},e),this._init()}var t=e.prototype;return t.resize=function(){this.initialRects={}},t.renderItems=function(e){var t=this;e.forEach(function(e){t._renderItem(e)})},t.getInlineSize=function(){return this.containerRect[this.options.horizontal?"height":"width"]},t.setContainerRect=function(e){this.containerRect=e},t.updateEqualSizeItems=function(e,t){var n=this;this.updateItems(e);var r=e.some(function(e){return e.attributes.sizeGroup});(this.options.isEqualSize||r)&&e.some(function(e){return e.updateState===s.UPDATED})&&t.forEach(function(t){-1===e.indexOf(t)&&n.updateItem(t,!0)})},t.updateItems=function(e){var t=this;e.forEach(function(e){t.updateItem(e)})},t.getStatus=function(){return{initialRects:this.initialRects}},t.setStatus=function(e){this.initialRects=e.initialRects},t._init=function(){var e=this.options.percentage,t=!1,n=!1;!0===e?(t=!0,n=!0):e&&(e.indexOf("position")>-1&&(n=!0),e.indexOf("size")>-1&&(t=!0)),this.posPercetage=n,this.sizePercetage=t},t.updateItem=function(e,t){var n,r,i=this.options,a=i.isEqualSize,u=i.isConstantSize,c=i.useRoundedSize,h=this.initialRects,l=e.orgRect,f=e.element,d=e.updateState===s.WAIT_LOADING,p=l&&l.width&&l.height,g=f?function(e,t){for(var n={},r=e.attributes,i=r.length,o=0;o<i;++o){var s=r[o],a=s.name,u=s.value;-1!==a.indexOf(t)&&(n[a.replace(t,"").replace(/[\s-_]([a-z])/g,function(e,t){return t.toUpperCase()})]=u)}return n}(f,this.options.attributePrefix):e.attributes,m=null!=(n=g.sizeGroup)?n:"",y=g.notEqualSize;if(""!==m&&h[m])r=h[m];else if(a&&!y&&!m&&h[""])r=h[""];else if(u&&p&&!d)r=l;else{if(t||!f)return;if(r={left:f.offsetLeft,top:f.offsetTop,width:0,height:0},c)r.width=f.offsetWidth,r.height=f.offsetHeight;else{var v=f.getBoundingClientRect();r.width=v.width,r.height=v.height}}return e.attributes=g,e.shouldReupdate=!1,e.isFirstUpdate&&p||(e.orgRect=X({},r)),e.rect=X({},r),!t&&(e.element&&(e.mountState=o.MOUNTED),e.updateState===s.NEED_UPDATE&&(e.updateState=s.UPDATED,e.isFirstUpdate=!0),d||y||h[m]||(h[m]=X({},r))),r},t._renderItem=function(e){var t=e.element,n=e.cssRect;if(t&&n){var r=this.options,i=r.horizontal,o=r.useTransform,s=this.posPercetage,a=this.sizePercetage,u=["position: absolute;"],c=et[i?"horizontal":"vertical"],h=c.inlineSize,l=c.inlinePos,f=this.getInlineSize(),d=Object.keys(n),p=d.length>0;o&&(d=d.filter(function(e){return"top"!==e&&"left"!==e}),u.push("transform: "+("translate("+(n.left||0)+"px, ")+(n.top||0)+"px);")),u.push.apply(u,d.map(function(e){var t=n[e];return e===h&&a||e===l&&s?e+": "+t/f*100+"%;":e+": "+t+"px;"})),p&&(t.style.cssText+=u.join(""))}},e}(),em=function(){function e(e,t){void 0===t&&(t={}),this.horizontal=e,this.isUpdating=!1,this.shouldReupdate=!1,this.hasTransition=!1,this.transitionDuration="",this.isRestoreOrgCSSText=!0;var n,r=t.element,i=X({key:"",index:0,orgRect:{left:0,top:0,width:0,height:0},rect:{left:0,top:0,width:0,height:0},cssRect:{},attributes:{},data:{},isFirstUpdate:!1,mountState:o.UNCHECKED,updateState:s.NEED_UPDATE,element:r||null,orgCSSText:null!=(n=null==r?void 0:r.style.cssText)?n:"",gridData:{}},t);for(var a in i)this[a]=i[a]}var t=e.prototype;return Object.defineProperty(t,"orgInlineSize",{get:function(){var e=this._names.inlineSize;return this.orgRect[e]||this.rect[e]},enumerable:!1,configurable:!0}),Object.defineProperty(t,"orgContentSize",{get:function(){var e=this._names.contentSize;return this.orgRect[e]||this.rect[e]},enumerable:!1,configurable:!0}),Object.defineProperty(t,"inlineSize",{get:function(){return this.rect[this._names.inlineSize]},enumerable:!1,configurable:!0}),Object.defineProperty(t,"contentSize",{get:function(){return this.rect[this._names.contentSize]},enumerable:!1,configurable:!0}),Object.defineProperty(t,"cssInlineSize",{get:function(){return this.cssRect[this._names.inlineSize]},set:function(e){this.cssRect[this._names.inlineSize]=e},enumerable:!1,configurable:!0}),Object.defineProperty(t,"cssContentSize",{get:function(){return this.cssRect[this._names.contentSize]},set:function(e){this.cssRect[this._names.contentSize]=e},enumerable:!1,configurable:!0}),Object.defineProperty(t,"cssInlinePos",{get:function(){return this.cssRect[this._names.inlinePos]},set:function(e){this.cssRect[this._names.inlinePos]=e},enumerable:!1,configurable:!0}),Object.defineProperty(t,"cssContentPos",{get:function(){return this.cssRect[this._names.contentPos]},set:function(e){this.cssRect[this._names.contentPos]=e},enumerable:!1,configurable:!0}),Object.defineProperty(t,"computedInlineSize",{get:function(){var e=this._names.inlineSize;return this.cssRect[e]||this.rect[e]||this.orgRect[e]},enumerable:!1,configurable:!0}),Object.defineProperty(t,"computedContentSize",{get:function(){var e=this._names.contentSize;return this.cssRect[e]||this.rect[e]||this.orgRect[e]},enumerable:!1,configurable:!0}),Object.defineProperty(t,"computedInlinePos",{get:function(){var e,t=this._names.inlinePos;return null!=(e=this.cssRect[t])?e:this.rect[t]},enumerable:!1,configurable:!0}),Object.defineProperty(t,"computedContentPos",{get:function(){var e,t=this._names.contentPos;return null!=(e=this.cssRect[t])?e:this.rect[t]},enumerable:!1,configurable:!0}),t.setCSSGridRect=function(e){var t=et[this.horizontal?"horizontal":"vertical"],n={};for(var r in e)n[t[r]]=e[r];this.cssRect=n},t.getStatus=function(){return{index:this.index,mountState:this.mountState,updateState:this.updateState,attributes:this.attributes,orgCSSText:this.orgCSSText,isFirstUpdate:this.isFirstUpdate,element:null,key:this.key,orgRect:this.orgRect,rect:this.rect,cssRect:this.cssRect,gridData:this.gridData,data:this.data}},t.getMinimizedStatus=function(){var e={orgRect:this.orgRect,rect:this.rect,cssRect:this.cssRect,attributes:this.attributes,gridData:this.gridData},t=this.key,n=this.mountState,r=this.updateState,i=this.isFirstUpdate,a=this.orgCSSText;return void 0!==t&&(e.key=t),n!==o.UNCHECKED&&(e.mountState=n),r!==s.NEED_UPDATE&&(e.updateState=r),i&&(e.isFirstUpdate=!0),a&&(e.orgCSSText=a),e},Object.defineProperty(t,"_names",{get:function(){return this.horizontal?et.horizontal:et.vertical},enumerable:!1,configurable:!0}),e}(),ey=function(e){function t(t,n){void 0===n&&(n={});var r=e.call(this)||this;r.items=[],r.outlines={start:[],end:[]},r._renderTimer=0,r._onResize=function(e){if(e.isResizeContainer)r._renderItems({useResize:!0},!0);else{var t=en(r.items,e.childEntries);t.length>0&&r.updateItems(t)}},r.options=X(X({},r.constructor.defaultOptions),n),r.containerElement=eo(t)?document.querySelector(t):t;var i=r.options,o=i.isEqualSize,s=i.isConstantSize,a=i.useTransform,u=i.horizontal,c=i.percentage,h=i.externalContainerManager,l=i.externalItemRenderer,f=i.resizeDebounce,d=i.maxResizeDebounce,p=i.autoResize,g=i.useRoundedSize,m=i.useResizeObserver;return r.containerManager=h||new ep(r.containerElement,{horizontal:u,resizeDebounce:f,maxResizeDebounce:d,autoResize:p,useResizeObserver:m}).on("resize",r._onResize),r.itemRenderer=l||new eg({useTransform:a,isEqualSize:o,isConstantSize:s,percentage:c,useRoundedSize:g}),r._init(),r}Z(t,e);var n=t.prototype;return n.getContainerElement=function(){return this.containerElement},n.getItems=function(){return this.items},n.getChildren=function(){return[].slice.call(this.containerElement.children)},n.setItems=function(e){e.forEach(function(e,t){e.index=t});var t=this.options;if(t.useResizeObserver&&t.observeChildren){var n=this.containerManager;n.unobserveChildren(ei(this.items)),n.observeChildren(ei(e))}return this.items=e,this},n.getContainerInlineSize=function(){return this.containerManager.getInlineSize()},n.getOutlines=function(){return this.outlines},n.setOutlines=function(e){return this.outlines=e,this},n.syncElements=function(e){void 0===e&&(e={});var t=this.items,n=this.options.horizontal,r=this.getChildren(),i=_(this.items.map(function(e){return e.element}),r,S),o=i.added,s=i.maintained,a=i.changed,u=i.removed,c=[];return s.forEach(function(e){var n=e[0];c[e[1]]=t[n]}),o.forEach(function(e){c[e]=new em(n,{element:r[e]})}),this.setItems(c),(o.length||u.length||a.length)&&this.renderItems(e),this},n.updateItems=function(e,t){void 0===e&&(e=this.items),void 0===t&&(t={});var n=t.useOrgResize;return e.forEach(function(e){if(n){var t=e.orgRect;t.width=0,t.height=0}e.updateState=s.NEED_UPDATE}),this.checkReady(t),this},n.renderItems=function(e){return void 0===e&&(e={}),this._renderItems(e),this},n.getStatus=function(e){return{outlines:this.outlines,items:this.items.map(function(t){return e?t.getMinimizedStatus():t.getStatus()}),containerManager:this.containerManager.getStatus(),itemRenderer:this.itemRenderer.getStatus()}},n.setStatus=function(e){var t=this,n=this.options.horizontal,r=this.containerManager,i=r.getInlineSize(),o=this.getChildren();return this.itemRenderer.setStatus(e.itemRenderer),r.setStatus(e.containerManager),this.outlines=e.outlines,this.items=e.items.map(function(e,t){return new em(n,X(X({},e),{element:o[t]}))}),this.itemRenderer.renderItems(this.items),i!==r.getInlineSize()?this.renderItems({useResize:!0}):window.setTimeout(function(){t._renderComplete({direction:t.defaultDirection,mounted:t.items,updated:[],isResize:!1})}),this},n.getComputedOutlineSize=function(e){return void 0===e&&(e=this.items),this.options.outlineSize||this.getContainerInlineSize()},n.getComputedOutlineLength=function(e){return void 0===e&&(e=this.items),this.options.outlineLength||1},n.destroy=function(e){void 0===e&&(e={});var t,n=e.preserveUI,r=void 0===n?this.options.preserveUIOnDestroy:n;this.containerManager.destroy({preserveUI:r}),r||this.items.forEach(function(e){var t=e.element,n=e.orgCSSText;t&&(t.style.cssText=n)}),null==(t=this._im)||t.destroy()},n.getInlineGap=function(){return this._getDirectionalGap("inline")},n.getContentGap=function(){return this._getDirectionalGap("content")},n.checkReady=function(e){var t,n=this;void 0===e&&(e={});var r=this.items,i=r.filter(function(e){var t;return(null==(t=e.element)?void 0:t.parentNode)&&e.updateState!==s.UPDATED}),a=r.filter(function(e){var t;return(null==(t=e.element)?void 0:t.parentNode)&&e.mountState!==o.MOUNTED}),u=[];a.filter(function(e){if(e.hasTransition)return!0;var t=e.element;return!!(parseFloat(getComputedStyle(t).transitionDuration)>0)&&(e.hasTransition=!0,e.transitionDuration=t.style.transitionDuration,!0)}).forEach(function(e){e.element.style.transitionDuration="0s"}),null==(t=this._im)||t.destroy(),this._im=new Y({prefix:this.options.attributePrefix}).on("preReadyElement",function(e){i[e.index].updateState=s.WAIT_LOADING}).on("preReady",function(){i.forEach(function(e){var t=e.orgRect.width&&e.orgRect.height,n=e.cssRect.width||e.cssRect.height;!t&&n&&(e.element.style.cssText=e.orgCSSText)}),n._updateItems(i),n.readyItems(a,i,e)}).on("readyElement",function(t){var r=i[t.index];r.updateState=s.NEED_UPDATE,t.isPreReadyOver&&(r.isRestoreOrgCSSText&&(r.element.style.cssText=r.orgCSSText),n._updateItems([r]),n.readyItems([],[r],e))}).on("error",function(e){var t=i[e.index];n.trigger("contentError",{element:e.element,target:e.target,item:t,update:function(){u.push(t)}})}).on("ready",function(){u.length&&n.updateItems(u)}).check(i.map(function(e){return e.element}))},n.scheduleRender=function(){var e=this;this._clearRenderTimer(),this._renderTimer=window.setTimeout(function(){e.renderItems()})},n.fitOutlines=function(e){void 0===e&&(e=this.useFit);var t=this.outlines,n=t.start,r=t.end,i=n.length?Math.min.apply(Math,n):0;(e||!(i>0))&&(t.start=n.map(function(e){return e-i}),t.end=r.map(function(e){return e-i}),this.items.forEach(function(e){var t=e.cssContentPos;ea(t)&&(e.cssContentPos=t-i)}))},n.readyItems=function(e,t,n){var r=this.outlines,i=n.direction||this.options.defaultDirection,s=n.outline||r["end"===i?"start":"end"],a=this.items,u={start:$([],s),end:$([],s)};e.forEach(function(e){e.mountState=o.MOUNTED}),t.forEach(function(e){e.isUpdating=!0}),a.length&&(u=this.applyGrid(this.items,i,s)),t.forEach(function(e){e.isUpdating=!1}),this.setOutlines(u),this.fitOutlines(),this.itemRenderer.renderItems(this.items),this._refreshContainerContentSize();var c=e.filter(function(e){return e.hasTransition});c.length&&(this.containerManager.resize(),c.forEach(function(e){e.element.style.transitionDuration=e.transitionDuration})),this._renderComplete({direction:i,mounted:e,updated:t,isResize:!!n.useResize});var h=t.filter(function(e){return e.shouldReupdate});h.length&&this.updateItems(h)},n._isObserverEnabled=function(){return this.containerManager.isObserverEnabled()},n._updateItems=function(e){this.itemRenderer.updateEqualSizeItems(e,this.getItems())},n._getDirectionalGap=function(e){var t,n=this.options.horizontal,r=this.options.gap;return"number"==typeof r?r:null!=(t=n&&"inline"===e||!n&&"content"===e?r.vertical:r.horizontal)?t:J.gap},n._renderComplete=function(e){this.trigger("renderComplete",e)},n._clearRenderTimer=function(){clearTimeout(this._renderTimer),this._renderTimer=0},n._refreshContainerContentSize=function(){var e=this.outlines,t=e.start,n=e.end,r=this.getContentGap(),i=n.length?Math.max.apply(Math,n):0,o=Math.max(t.length?Math.max.apply(Math,t):0,i-r);this.containerManager.setContentSize(o)},n._resizeContainer=function(){this.containerManager.resize(),this.itemRenderer.setContainerRect(this.containerManager.getRect())},n._init=function(){this._resizeContainer()},n._renderItems=function(e,t){void 0===e&&(e={}),this._clearRenderTimer();var n=e.useResize||e.useOrgResize;n&&!t&&(this._resizeContainer(),this.itemRenderer.resize()),!this.getItems().length&&this.getChildren().length?this.syncElements(e):n?this.updateItems(this.items,e):this.checkReady(e)},t.defaultOptions=J,t.propertyTypes=ee,t=Q([ec],t)}(p),ev=function(){function e(e){this.content=[],this.scoreFunction=e}var t=e.prototype;return t.push=function(e){this.content.push(e),this.bubbleUp(this.content.length-1)},t.pop=function(){var e=this.content[0],t=this.content.pop();return this.content.length>0&&(this.content[0]=t,this.sinkDown(0)),e},t.size=function(){return this.content.length},t.bubbleUp=function(e){for(var t=e,n=this.content[t];t>0;){var r=Math.floor((t+1)/2)-1,i=this.content[r];if(this.scoreFunction(n)<this.scoreFunction(i))this.content[r]=n,this.content[t]=i,t=r;else break}},t.sinkDown=function(e){for(var t,n=this.content.length,r=this.content[e],i=this.scoreFunction(r);;){var o=(e+1)*2,s=o-1,a=null;if(s<n){var u=this.content[s];(t=this.scoreFunction(u))<i&&(a=s)}if(o<n){var c=this.content[o];this.scoreFunction(c)<(null==a?i:t)&&(a=o)}if(null!==a)this.content[e]=this.content[a],this.content[a]=r,e=a;else break}},e}();function eR(e,t){if(ea(t))return t;var n=t.charAt(0),r=parseFloat(t);return(t.match(/%$/g)&&(r*=e/100),"+"===n?1:"-"===n?-1:0)?e+r:r}function e_(e,t){var n=e.orgInlineSize,r=e.orgContentSize,i=e.gridData.inlineOffset||0,o=e.gridData.contentOffset||0;return n&&r?(r<=o?1:(n-i)/(r-o))*(t-o)+i:t}var eS=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}Z(t,e);var n=t.prototype;return n.applyGrid=function(e,t,n){var r=this,i=this.options,s=i.attributePrefix,a=i.horizontal;e.forEach(function(e){if(e.isUpdating){var t=e.element,n=e.attributes,i=e.gridData,u=parseFloat(n.inlineOffset),c=parseFloat(n.contentOffset);if(isNaN(u)&&(u=r.inlineOffset||i.inlineOffset||0),isNaN(c)&&(c=r.contentOffset||0|i.contentOffset),t&&!("inlineOffset"in n)&&!("contentOffset"in n)&&e.mountState===o.MOUNTED){var h=t.querySelector("["+s+"maintained-target]");if(h){var l=t.offsetWidth-t.clientWidth+t.scrollWidth-h.clientWidth,f=t.offsetHeight-t.clientHeight+t.scrollHeight-h.clientHeight;a?(u=f,c=l):(u=l,c=f)}}i.inlineOffset=u,i.contentOffset=c}});var u=this.options.rowRange,c=[],h="end"===t;return e.length&&(c=u?this._getRowPath(e,h):this._getPath(e,h)),this._setStyle(e,c,n,"end"===t)},n._getRowPath=function(e,t){var n,r=this._getColumnRange(),i=this._getRowRange(),o=this._getRowLink(e,{path:[0],cost:0,length:0,currentNode:0},r,i,t);return null!=(n=null==o?void 0:o.path.map(function(e){return""+e}))?n:[]},n._getRowLink=function(e,t,n,r,i){var o=n[0],s=r[0],a=r[1],u=e.length,c=t.path,h=t.length,l=t.cost,f=t.currentNode;if(f<u&&(a<=h||f+o>u)){var d=eh(u-f,n)*Math.abs(this._getCost(e,f,u,i));return X(X({},t),{length:h+1,path:$($([],c),[u]),currentNode:u,cost:l+d,isOver:!0})}return f>=u?X(X({},t),{currentNode:u,isOver:s>h||a<h}):this._searchRowLink(e,t,u,n,r,i)},n._searchRowLink=function(e,t,n,r,i,o){for(var s=r[0],a=r[1],u=t.currentNode,c=t.path,h=t.length,l=t.cost,f=Math.min(n,u+a),d=[],p=u+s;p<=f;++p)if(p!==u){var g=Math.abs(this._getCost(e,u,p,o)),m=this._getRowLink(e,{path:$($([],c),[p]),length:h+1,cost:l+g,currentNode:p},r,i,o);m&&d.push(m)}return d.sort(function(e,t){var n=e.isOver;return n!==t.isOver?n?1:-1:eh(e.length,i)-eh(t.length,i)||e.cost-t.cost}),d[0]},n._getExpectedRowSize=function(e,t){var n=this.getContainerInlineSize()-this.getInlineGap()*(e.length-1),r=n,i=0,o=0;if(e.forEach(function(e){var t=e.orgInlineSize,n=e.orgContentSize;if(!t||!n){i+=1;return}var s=e.gridData.inlineOffset||0,a=e.gridData.contentOffset||0,u=n<=a?1:(t-s)/(n-a);i+=u,o+=a*u,r-=s}),i){var s=(r+o)/i;if(this.stretch){var a=this._getSizeRange(),u=el(s,a[0],a[1]);if(t)return u;var c=this.stretchRange,h=e.map(function(e){return e_(e,u)}),l=h.reduce(function(t,n,r){return t+eR(n,e[r].attributes.minStretch||c[0])},0),f=h.reduce(function(t,n,r){return t+eR(n,e[r].attributes.maxStretch||c[1])},0);if(l<=n&&n<=f)return u}return s}return 0},n._getExpectedInlineSizes=function(e,t){var n=this.options,r=n.stretch,i=n.stretchRange;return e.map(function(e){var n=r?eR(e.orgInlineSize,e.attributes.minStretch||i[0]):-1/0,o=r?eR(e.orgInlineSize,e.attributes.maxStretch||i[1]):1/0,s=e_(e,t),a=!1,u=!1;return s>=o?a=!0:s<=n&&(u=!0),{minSize:n,maxSize:o,size:el(s,n,o),originalSize:s,isMax:a,isMin:u}})},n._getStretchItemInfos=function(e,t){var n=e.length,r=this.getContainerInlineSize()-this.getInlineGap()*(Math.max(1,n)-1),i=this._getExpectedInlineSizes(e,t),o=r-eu(i.map(function(e){return e.size})),s=r/eu(i.map(function(e){return e.originalSize})),a=i.map(function(e){return X(X({},e),{passed:!1,size:e.originalSize*s})});if(0===o)return{infos:a,cost:0};for(var u=o>0,c=a.length,h=0;h<c&&"break"!==function(e){var t=(r-eu(a.map(function(e){return e.passed?e.size:0})))/eu(a.map(function(e){return e.passed?0:e.originalSize}));if(a.forEach(function(e){!e.passed&&(u?e.size>e.maxSize&&(t=Math.min(t,e.maxSize/e.originalSize)):e.size<e.minSize&&(t=Math.max(t,e.minSize/e.originalSize)))}),a.forEach(function(e){!e.passed&&(e.size=el(e.originalSize*t,e.minSize,e.maxSize),(!u||ef(e.size-e.maxSize,.001))&&(u||ef(e.size-e.minSize,.001))||(e.passed=!0))}),a.every(function(e){return e.passed}))return"break"}();++h);var l=r/eu(a.map(function(e){return e.size}));return ef(l-1,.001)&&a.forEach(function(e){e.size*=l}),{infos:a,cost:eu(a.map(function(e){var t=1;(e.size>e.maxSize||e.size<e.minSize)&&(t=2);var n=e.originalSize;return n=u?Math.max(n,e.minSize):Math.min(n,e.maxSize),Math.abs(e.size-n)*t}))}},n._getExpectedInlineSize=function(e,t){var n=this.getInlineGap(),r=this._getExpectedInlineSizes(e,t);return r.length?eu(r.map(function(e){return e.size}))+n*(e.length-1):0},n._getCost=function(e,t,n,r){var i=e.slice(t,n),o=this.getContainerInlineSize(),s=this._getExpectedRowSize(i),a=this._getSizeRange(),u=a[0],c=a[1];if(this.isCroppedSize){if(u<=s&&s<=c)return 0;var h=this._getExpectedInlineSize(i,s<u?u:c);return Math.pow(h-o,2)}var l=0;if(this.stretch){s<u?s=u:s>c&&(s=c);var f=Math.abs(s-u),h=this._getExpectedInlineSize(i,s);return(!this.passUnstretchRow||(r?n!==e.length:0!==t)||h>=o)&&(l=this._getStretchItemInfos(i,s).cost),l+f}if(isFinite(c)){if(s<u)return Math.pow(s-u,2)+Math.pow(c,2)+l;else if(s>c)return Math.pow(s-c,2)+Math.pow(c,2)+l}else if(s<u)return Math.max(Math.pow(u,2),Math.pow(s,2))+Math.pow(c,2)+l;return s-u+l},n._getPath=function(e,t){var n=this,r=e.length,i=this.options.columnRange,o=es(i)?i:[i,i],s=o[0],a=o[1];return function(e,t,n){for(var r=function(e,t,n){var r,i,o,s,a,u,c={},h={};h["0"]=0;var l=new ev(function(e){return e.cost});for(l.push({value:t,cost:0});l.size();)for(var f in i=(r=l.pop()).value,o=r.cost,s=e(i)||{})a=o+s[f],u=h[f],(void 0===h[f]||u>a)&&(h[f]=a,l.push({value:f,cost:a}),c[f]=i);if(void 0===h[n])throw Error("Could not find a path from "+t+" to "+n+".");return c}(e,"0",n),i=[],o=n;o;)i.push(o),o=r[o];return i.reverse(),i}(function(i){for(var o={},u=parseInt(i,10),c=Math.min(u+s,r);c<=r&&!(c-u>a);++c){var h=n._getCost(e,u,c,t);h<0&&c===r&&(h=0),o[""+c]=Math.pow(h,2)}return o},0,""+r)},n._setStyle=function(e,t,n,r){var i,o,s=this;void 0===n&&(n=[]);var a=this.options,u=a.isCroppedSize,c=a.displayedRow,h=a.stretch,l=a.passUnstretchRow,f=e.length,d=this._getSizeRange(),p=n[0]||0,g=this.getContainerInlineSize(),m=this.getInlineGap(),y=this.getContentGap(),v=function(e,t){for(var n=t.length,r=[],i=0;i<n-1;++i){var o=parseInt(t[i],10),s=parseInt(t[i+1],10);r.push(e.slice(o,s))}return r}(e,t),R=v.length,_=p,S=0;if(v.forEach(function(e,t){var n=e.length,a=s._getExpectedRowSize(e,!0);u&&(a=Math.max(d[0],Math.min(a,d[1])));var p=m*(length-1),v=e.map(function(e,t){var n=e_(e,a);return{index:t,item:e,inlineSize:n,orgInlineSize:n,maxInlineSize:n,minInlineSize:n}}),E=s._getExpectedInlineSize(e,a),I=(g-p)/(E-p),z=E-p,C=g-p;if(h&&E&&C!==z)if(l&&z<C&&(r?t===R-1:0===t)){o=[_],i=e.map(function(e,t){return f-n+t});var O=s._getExpectedInlineSizes(e,a);v.forEach(function(e,t){e.minInlineSize=O[t].minSize,e.maxInlineSize=O[t].maxSize,e.inlineSize=el(e.inlineSize,e.minInlineSize,e.maxInlineSize)})}else{var P=s._getStretchItemInfos(e,a).infos;v.forEach(function(e,t){e.inlineSize=P[t].size,e.minInlineSize=P[t].minSize,e.maxInlineSize=P[t].maxSize})}v.forEach(function(t,n){var r=t.item,i=t.inlineSize,o=e[n-1],s=o?o.cssInlinePos+o.cssInlineSize+m:0;u&&(i*=I);var c=r.gridData;c.orgInlineSize=t.orgInlineSize,c.orgContentSize=a,c.minInlineSize=t.minInlineSize,c.maxInlineSize=t.maxInlineSize,r.setCSSGridRect({inlinePos:s,contentPos:_,inlineSize:i,contentSize:a})}),_+=y+a,(c<0||t<c)&&(S=_)}),r)return{start:[p],end:[S],passedItems:i,passed:o};var E=_-p;return e.forEach(function(e){e.cssContentPos-=E}),{passedItems:i,passed:o?[o[0]-E]:null,start:[p-E],end:[p]}},n.getComputedOutlineLength=function(){return 1},n.getComputedOutlineSize=function(){return this.getContainerInlineSize()},n._getRowRange=function(){var e=this.rowRange;return es(e)?e:[e,e]},n._getColumnRange=function(){var e=this.columnRange;return es(e)?e:[e,e]},n._getSizeRange=function(){var e=this.sizeRange;return es(e)?e:[e,e]},t.propertyTypes=X(X({},ey.propertyTypes),{columnRange:i.RENDER_PROPERTY,rowRange:i.RENDER_PROPERTY,sizeRange:i.RENDER_PROPERTY,isCroppedSize:i.RENDER_PROPERTY,displayedRow:i.RENDER_PROPERTY,stretch:i.RENDER_PROPERTY,stretchRange:i.RENDER_PROPERTY,passUnstretchRow:i.RENDER_PROPERTY,inlineMargin:i.RENDER_PROPERTY,contentMargin:i.RENDER_PROPERTY,inlineOffset:i.RENDER_PROPERTY,contentOffset:i.RENDER_PROPERTY}),t.defaultOptions=X(X({},ey.defaultOptions),{columnRange:[1,8],rowRange:0,sizeRange:[0,1/0],displayedRow:-1,isCroppedSize:!1,stretch:!1,passUnstretchRow:!0,stretchRange:["-20%","+20%"],inlineOffset:0,contentOffset:0}),t=Q([ec],t)}(ey);function eE(e){var t;return e?("string"==typeof e?t=document.querySelector(e):e instanceof Element?t=e:("value"in e||"current"in e)&&(t=e.value||e.current),t):null}var eI=function(e,t){return(eI=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function ez(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}eI(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var eC=function(){return(eC=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function eO(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function eP(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s}function eb(e,t,n){if(n||2==arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}"function"==typeof SuppressedError&&SuppressedError;var ew="undefined"!=typeof window?window.navigator.userAgent:"",eT=/iPhone|iPad/.test(ew),ex={renderOnPropertyChange:!0,useFit:!0,autoResize:!0},eM=eC({},ee),eD={START:"start",END:"end"},eL={CHANGE_SCROLL:"changeScroll",REQUEST_APPEND:"requestAppend",REQUEST_PREPEND:"requestPrepend",RENDER_COMPLETE:"renderComplete",CONTENT_ERROR:"contentError"},ek={type:!0,groupKey:!0,key:!0,element:!0,html:!0,data:!0,inserted:!0,attributes:!0};!function(e){e[e.NORMAL=0]="NORMAL",e[e.VIRTUAL=1]="VIRTUAL",e[e.LOADING=2]="LOADING"}(a||(a={})),function(e){e[e.NORMAL=0]="NORMAL",e[e.VIRTUAL=1]="VIRTUAL",e[e.LOADING=2]="LOADING"}(u||(u={})),function(e){e[e.NOT_REMOVE=0]="NOT_REMOVE",e[e.MINIMIZE_INVISIBLE_ITEMS=1]="MINIMIZE_INVISIBLE_ITEMS",e[e.MINIMIZE_INVISIBLE_GROUPS=2]="MINIMIZE_INVISIBLE_GROUPS",e[e.REMOVE_INVISIBLE_GROUPS=3]="REMOVE_INVISIBLE_GROUPS"}(c||(c={}));var eN=function(e){function t(t,n){var r=e.call(this,t,eC({html:"",type:u.NORMAL,cssRect:{top:-9999,left:-9999}},n))||this;if(r.type===u.VIRTUAL){(r.rect.width||r.rect.height)&&(r.mountState=o.UNMOUNTED);var i=r.orgRect,s=r.rect,a=r.cssRect;a.width?s.width=a.width:i.width&&(s.width=i.width),a.height?s.height=a.height:i.height&&(s.height=i.height)}return r}ez(t,e);var n=t.prototype;return n.getVirtualStatus=function(){return{type:u.VIRTUAL,groupKey:this.groupKey,key:this.key,orgRect:this.orgRect,rect:this.rect,cssRect:this.cssRect,attributes:this.attributes}},n.getMinimizedStatus=function(){var t=eC(eC({},e.prototype.getMinimizedStatus.call(this)),{type:u.NORMAL,groupKey:this.groupKey});return this.html&&(t.html=this.html),t},t}(em),eA=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="",t.isWaitEnd=!1,t.initialDisplay=null,t}ez(t,e);var n=t.prototype;return n.getLoadingItem=function(){return this.items[0]||null},n.startLoading=function(){var e=this.items[0].element;e&&(null!=this.initialDisplay?this.initialDisplay=e.style.display||"":this.initialDisplay?e.style.display=this.initialDisplay:e.style.removeProperty("display"))},n.endLoading=function(){if(this.type){var e=this.items[0].element;e&&(e.style.display="none")}},n.setLoadingItem=function(e){if(e){var t=this.getLoadingItem();if(t)for(var n in e)t[n]=e[n];else this.items=[new eN(this.options.horizontal,eC(eC({},e),{type:u.LOADING,key:"__INFINITEGRID__LOADING_ITEM"}))]}else this.items=[]},n.applyGrid=function(e,t,n){if(!e.length)return{start:n,end:n};var r=n.length?eb([],n,!0):[0],i=e[0],o=i.contentSize+this.getContentGap();return(i.cssInlinePos=this.getContainerInlineSize()/2-i.inlineSize/2,"end"===t)?(i.cssContentPos=Math.max.apply(Math,r),{start:r,end:r.map(function(e){return e+o})}):(i.cssContentPos=Math.min.apply(Math,r)-o,{start:r.map(function(e){return e-o}),end:r})},t}(ey);function eG(e){return e===window}function eK(e){return"number"==typeof e}function eV(e){return"string"==typeof e}function eU(e){return e.reduce(function(e,t){return eb(eb([],e,!0),t,!0)},[])}function ej(e){var t={},n={},r=ey.defaultOptions;for(var i in e){var o=e[i];i in ex||(n[i]=o),i in r&&(t[i]=o)}return eC(eC({},t),{gridOptions:n})}function eq(e){var t,n=[],r={},i={};e.filter(function(e){return null!=e.groupKey}).forEach(function(e){i[e.groupKey]=!0});var o=!1;return e.forEach(function(s,a){null!=s.groupKey?o=!1:!s.inserted&&e[a-1]?(s.groupKey=e[a-1].groupKey,o=!1):(o||(t=eY(i),o=!0,i[t]=!0),s.groupKey=t);var u=s.groupKey,c=r[u];c||(c={groupKey:u,items:[]},r[u]=c,n.push(c)),c.items.push(s)}),n}function eB(e,t,n,r){var i=_(e,t,function(e){return e}),o=-1,s=-1;return i.maintained.forEach(function(e){var t=e[0],i=e[1];n<=t&&t<=r&&(-1===o?(o=i,s=i):(o=Math.min(o,i),s=Math.max(s,i)))}),{startCursor:o,endCursor:s}}function eF(e,t,n){var r=[];if("start"===t){var i=eQ(e,function(e){return e.type===a.NORMAL});if(-1===i)return[];var o=eQ(e,function(e){return eQ(n,function(t){return t.groupKey===e.groupKey})>=0}),s=o>=0?Math.min(i,o):i;r=e.slice(0,s)}else{var i=e$(e,function(e){return e.type===a.NORMAL});if(-1===i)return[];var u=e$(e,function(e){return eQ(n,function(t){return t.groupKey===e.groupKey})>=0}),c=u>=0?Math.max(i,u):i;r=e.slice(c+1)}return r}function eH(e){var t=e.prototype,n=e.propertyTypes,r=function(e){Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:function(){var t=this.groupManager.options;return e in t?t[e]:t.gridOptions[e]},set:function(t){var n;this.groupManager[e]!==t&&(this.groupManager.gridOptions=((n={})[e]=t,n))}})};for(var i in n)r(i)}function eY(e,t){void 0===t&&(t="");for(var n=0;;){var r="infinitegrid_".concat(t).concat(n++);if(!(r in e))return r}}function eW(e){var t=document.createElement("div");return t.innerHTML=e,eX(t.children)}function eZ(e,t){return(eV(e)?eW(e):e).map(function(e){var n,r,i="";if(eV(e))i=e;else{if(!("parentNode"in e))return eC({groupKey:t,inserted:!0},e);n=e,i=e.outerHTML}return{key:r,groupKey:t,html:i,element:n,inserted:!0}})}function eX(e){var t=[];if(e)for(var n=e.length,r=0;r<n;r++)t.push(e[r]);return t}function eQ(e,t){for(var n=e.length,r=0;r<n;++r)if(t(e[r],r))return r;return -1}function e$(e,t){for(var n=e.length,r=n-1;r>=0;--r)if(t(e[r],r))return r;return -1}function eJ(e,t){return e.length===t.length&&e.every(function(e,n){return t[n]===e})}function e0(e){return eU(e.map(function(e){return e.grid.getItems()}))}function e1(e,t){return t?eb([],e,!0):e.filter(function(e){return e.type!==u.VIRTUAL})}var e2=(r=["insertByGroupIndex","updateItems","getItems","getVisibleItems","getGroups","getVisibleGroups","renderItems","getContainerElement","getScrollContainerElement","getWrapperElement","setStatus","getStatus","removePlaceholders","prependPlaceholders","appendPlaceholders","getStartCursor","getEndCursor","setCursors"],function(e,t){r.forEach(function(n){n in e||(e[n]=function(){for(var e,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var o=(e=this[t])[n].apply(e,r);return o===this[t]?this:o})})}),e3=function(e){function t(t,n){var r,i,o=e.call(this,t,(r=n.gridOptions,i=eO(n,["gridOptions"]),eC(eC({},ej(r)),i)))||this;return o.groupItems=[],o.groups=[],o.itemKeys={},o.groupKeys={},o.startCursor=0,o.endCursor=0,o._placeholder=null,o._loadingGrid=new eA(t,{externalContainerManager:o.containerManager,useFit:!1,autoResize:!1,renderOnPropertyChange:!1,gap:o.gap}),o._mainGrid=o._makeGrid(),o}ez(t,e);var n=t.prototype;return Object.defineProperty(n,"gridOptions",{set:function(e){var t=ej(e),n=t.gridOptions,r=eO(t,["gridOptions"]),i=this._checkShouldRender(e);for(var o in this.options.gridOptions=eC(eC({},this.options.gridOptions),n),eb([this._mainGrid],this.groups.map(function(e){return e.grid}),!0).forEach(function(t){for(var n in e)t[n]=e[n]}),r)this[o]=r[o];this._loadingGrid.gap=this.gap,i&&this.scheduleRender()},enumerable:!1,configurable:!0}),n.getItemByKey=function(e){return this.itemKeys[e]||null},n.getGroupItems=function(e){return e1(this.groupItems,e)},n.getVisibleItems=function(e){return e1(this.items,e)},n.getRenderingItems=function(){return this.hasPlaceholder()?this.items:this.items.filter(function(e){return e.type!==u.VIRTUAL})},n.getGroups=function(e){return e1(this.groups,e)},n.hasVisibleVirtualGroups=function(){return this.getVisibleGroups(!0).some(function(e){return e.type===a.VIRTUAL})},n.hasPlaceholder=function(){return!!this._placeholder},n.hasLoadingItem=function(){return!!this._getLoadingItem()},n.updateItems=function(t,n){return void 0===t&&(t=this.groupItems),e.prototype.updateItems.call(this,t,n)},n.setPlaceholder=function(e){this._placeholder=e,this._updatePlaceholder()},n.getLoadingType=function(){return this._loadingGrid.type},n.startLoading=function(e){return this._loadingGrid.type=e,this.items=this._getRenderingItems(),!0},n.waitEndLoading=function(){return!!this._loadingGrid.type&&(this._loadingGrid.isWaitEnd=!0,!0)},n.endLoading=function(){if(this._loadingGrid.isWaitEnd){var e=this._loadingGrid.type;return this._loadingGrid.type="",this._loadingGrid.endLoading(),this.items=this._getRenderingItems(),!!e}return!1},n.setLoading=function(e){this._loadingGrid.setLoadingItem(e),this.items=this._getRenderingItems()},n.getVisibleGroups=function(e){return e1(this.groups.slice(this.startCursor,this.endCursor+1),e)},n.getComputedOutlineLength=function(e){return void 0===e&&(e=this.items),this._mainGrid.getComputedOutlineLength(e)},n.getComputedOutlineSize=function(e){return void 0===e&&(e=this.items),this._mainGrid.getComputedOutlineSize(e)},n.applyGrid=function(e,t,n){var r=this,i=this.groups.slice();if(!i.length)return{start:[],end:[]};var s=this._loadingGrid;s.getLoadingItem()&&("start"===s.type?i.unshift(this._getLoadingGroup()):"end"===s.type&&i.push(this._getLoadingGroup()));var u=i.slice(),c=n;"start"===t&&u.reverse();var h=this.options.appliedItemChecker,l=this.groupItems,f=this.getComputedOutlineLength(l),d=this.getComputedOutlineSize(l),p=this.itemRenderer,g=[];return u.forEach(function(e){var n,i,s,u=e.grid,l=u.getItems(),m=e.type===a.VIRTUAL&&!l[0];g="end"===t?eb(eb([],g,!0),l,!0):eb(eb([],l,!0),g,!0),u.outlineLength=f,u.outlineSize=d;var y=g.filter(function(e){return e.mountState!==o.UNCHECKED&&e.rect.width||p.updateItem(e,!0),e.orgRect.width&&e.rect.width||h(e,u)});s=m?r._applyVirtualGrid(u,t,c):y.length?u.applyGrid(y,t,c):{start:eb([],c,!0),end:eb([],c,!0)},u.setOutlines(s),c=s.passed||s[t],g=null!=(i=null==(n=s.passedItems)?void 0:n.map(function(e){return g[e]}))?i:[]}),{start:i[0].grid.getOutlines().start,end:i[i.length-1].grid.getOutlines().end}},n.syncItems=function(e){var t=this,n=this.itemKeys;this.itemKeys={};var r=this._syncItemInfos(e.map(function(e){var t={};for(var n in e)n in ek&&(t[n]=e[n]);return t}),n),i=this.groupKeys,o=eq(r),s=this._splitVirtualGroups("start",o),c=this._splitVirtualGroups("end",o),h=(o=eb(eb(eb([],s,!0),this._mergeVirtualGroups(o),!0),c,!0)).map(function(e){var n,r,o=e.groupKey,s=e.items,c=!s[0]||s[0].type===u.VIRTUAL,h=null!=(r=null==(n=i[o])?void 0:n.grid)?r:t._makeGrid(),l=c?s:s.filter(function(e){return e.type===u.NORMAL});return h.setItems(l),{type:c?a.VIRTUAL:a.NORMAL,groupKey:o,grid:h,items:l,renderItems:s}});this._registerGroups(h)},n.renderItems=function(t){if(void 0===t&&(t={}),t.useResize){this.groupItems.forEach(function(e){e.updateState=s.NEED_UPDATE});var n=this._getLoadingItem();n&&(n.updateState=s.NEED_UPDATE)}return e.prototype.renderItems.call(this,t)},n.setCursors=function(e,t){this.startCursor=e,this.endCursor=t,this.items=this._getRenderingItems()},n.getStartCursor=function(){return this.startCursor},n.getEndCursor=function(){return this.endCursor},n.getGroupStatus=function(e,t){var n,r=this.startCursor,i=this.endCursor,o=this.groups,s=o[r],u=o[i],h=r,l=i,f=e===c.MINIMIZE_INVISIBLE_ITEMS,d=e===c.MINIMIZE_INVISIBLE_GROUPS;if(e===c.REMOVE_INVISIBLE_GROUPS)l=(n=this.getVisibleGroups(t)).length-1,h=0;else if(n=this.getGroups(t),!t){h=-1,l=-1;for(var p=r;p<=i;++p){var g=o[p];if(g&&g.type!==a.VIRTUAL){h=n.indexOf(g);break}}for(var p=i;p>=r;--p){var g=o[p];if(g&&g.type!==a.VIRTUAL){l=n.lastIndexOf(g);break}}}var m=n.map(function(e,t){var n=e.grid,r=e.groupKey,i=t<h||l<t,o=f&&i,s=d&&i,u=n.getItems(),c=s?[]:u.map(function(e){return o?e.getVirtualStatus():e.getMinimizedStatus()});return{type:s||o?a.VIRTUAL:a.NORMAL,groupKey:r,outlines:n.getOutlines(),items:c}}),y=this.getGroupItems(),v=y.indexOf(null==s?void 0:s.items[0]),R=y.indexOf(null==u?void 0:u.items.slice().reverse()[0]);return{cursors:[h,l],orgCursors:[r,i],itemCursors:[v,R],startGroupKey:null==s?void 0:s.groupKey,endGroupKey:null==u?void 0:u.groupKey,groups:m,outlines:this.outlines}},n.fitOutlines=function(e){void 0===e&&(e=this.useFit);var t=this.groups;if(t[0]){var n=this.outlines.start,r=n.length?Math.min.apply(Math,n):0;(e||!(r>0))&&(t.forEach(function(e){var t=e.grid,n=t.getOutlines(),i=n.start,o=n.end;t.setOutlines({start:i.map(function(e){return e-r}),end:o.map(function(e){return e-r})})}),this.groupItems.forEach(function(e){var t=e.cssContentPos;eK(t)&&(e.cssContentPos=t-r)}))}},n.setGroupStatus=function(e){var t=this;this.itemKeys={},this.groupItems=[],this.items=[];var n=this.groupKeys,r=e.groups.map(function(e){var r,i,o=e.type,s=e.groupKey,a=e.items,u=e.outlines,c=t._syncItemInfos(a),h=null!=(i=null==(r=n[s])?void 0:r.grid)?i:t._makeGrid();return h.setOutlines(u),h.setItems(c),{type:o,groupKey:s,grid:h,items:c,renderItems:c}});this.setOutlines(e.outlines),this._registerGroups(r),this._updatePlaceholder(),this.setCursors(e.cursors[0],e.cursors[1])},n.appendPlaceholders=function(e,t){return this.insertPlaceholders("end",e,t)},n.prependPlaceholders=function(e,t){return this.insertPlaceholders("start",e,t)},n.removePlaceholders=function(e){var t=this.groups,n=t.length;if("start"===e){var r=eQ(t,function(e){return e.type===a.NORMAL});t.splice(0,r)}else if("end"===e){var r=e$(t,function(e){return e.type===a.NORMAL});t.splice(r+1,n-r-1)}else{var i=e.groupKey,r=eQ(t,function(e){return e.groupKey===i});r>-1&&t.splice(r,1)}this.syncItems(e0(this.getGroups()))},n.insertPlaceholders=function(e,t,n){void 0===n&&(n=eY(this.groupKeys,"virtual_"));var r,i,o=[];eK(t)?o=(function(e){for(var t=[],n=0;n<e;++n)t.push(n);return t})(t).map(function(){return{type:u.VIRTUAL,groupKey:n}}):Array.isArray(t)&&(o=t.map(function(e){return eC(eC({groupKey:n},e),{type:u.VIRTUAL})}));var s=this._makeGrid(),c=this._syncItemInfos(o,this.itemKeys);this._updatePlaceholder(c),s.setItems(c);var h={type:a.VIRTUAL,groupKey:n,grid:s,items:c,renderItems:c};return this.groupKeys[n]=h,"end"===e?(this.groups.push(h),(r=this.groupItems).push.apply(r,c)):(this.groups.splice(0,0,h),(i=this.groupItems).splice.apply(i,eb([0,0],c,!1)),this.startCursor>-1&&(++this.startCursor,++this.endCursor)),{group:h,items:c}},n.shouldRerenderItems=function(){var e=!1;return this.getVisibleGroups().forEach(function(t){var n=t.items;n.length===t.renderItems.length||n.every(function(e){return e.mountState===o.UNCHECKED})||(e=!0,t.renderItems=eb([],n,!0))}),e&&(this.items=this._getRenderingItems()),e},n._updateItems=function(e){this.itemRenderer.updateEqualSizeItems(e,this.groupItems)},n._getGroupItems=function(){return e0(this.getGroups(!0))},n._getRenderingItems=function(){var e=eU(this.getVisibleGroups(!0).map(function(e){return e.renderItems})),t=this._loadingGrid,n=t.getLoadingItem();return n&&("end"===t.type?e.push(n):"start"===t.type&&e.unshift(n)),e},n._checkShouldRender=function(e){var t=this.options.gridConstructor,n=this.gridOptions,r=t.propertyTypes;for(var o in n)if(!(o in e)&&r[o]===i.RENDER_PROPERTY)return!0;for(var o in e)if(n[o]!==e[o]&&r[o]===i.RENDER_PROPERTY)return!0;return!1},n._applyVirtualGrid=function(e,t,n){var r=n.length?eb([],n,!0):[0],i=e.getOutlines(),o=i["end"===t?"start":"end"];return o.length!==r.length||o.some(function(e,t){return e!==r[t]})?{start:eb([],r,!0),end:eb([],r,!0)}:i},n._syncItemInfos=function(e,t){void 0===t&&(t={});var n=this.options.horizontal,r=this.itemKeys;return e.filter(function(e){return null!=e.key}).forEach(function(e){var i=e.key,o=t[i];o?o.type===u.VIRTUAL&&e.type!==u.VIRTUAL?r[i]=new eN(n,eC({orgRect:o.orgRect,rect:o.rect},e)):(e.data&&(o.data=e.data),null!=e.groupKey&&(o.groupKey=e.groupKey),e.element&&(o.element=e.element),r[i]=o):r[i]=new eN(n,eC({},e))}),e.map(function(e){var i=e.key;null==e.key&&(i=eY(r,e.type===u.VIRTUAL?"virtual_":""));var o=r[i];if(!o){var s=t[i];s?(o=s,e.data&&(o.data=e.data),e.element&&(o.element=e.element)):o=new eN(n,eC(eC({},e),{key:i})),r[i]=o}return o})},n._registerGroups=function(e){var t={};e.forEach(function(e){t[e.groupKey]=e}),this.groups=e,this.groupKeys=t,this.groupItems=this._getGroupItems()},n._splitVirtualGroups=function(e,t){var n=eF(this.groups,e,t),r=this.itemKeys;return n.forEach(function(e){e.renderItems.forEach(function(e){r[e.key]=e})}),n},n._mergeVirtualGroups=function(e){var t=this.itemKeys,n=this.groupKeys;return e.forEach(function(e){var r=n[e.groupKey];if(r){var i=e.items;i.every(function(e){return e.mountState===o.UNCHECKED})&&r.renderItems.forEach(function(e){e.type!==u.VIRTUAL||t[e.key]||(i.push(e),t[e.key]=e)})}}),e},n._updatePlaceholder=function(e){void 0===e&&(e=this.groupItems);var t=this._placeholder;t&&e.filter(function(e){return e.type===u.VIRTUAL}).forEach(function(e){for(var n in t){var r=t[n];"object"==typeof r?e[n]=eC(eC({},e[n]),r):e[n]=t[n]}})},n._makeGrid=function(){var e=this.options.gridConstructor,t=this.gridOptions;return new e(this.containerElement,eC(eC({},t),{useFit:!1,autoResize:!1,useResizeObserver:!1,observeChildren:!1,renderOnPropertyChange:!1,externalContainerManager:this.containerManager,externalItemRenderer:this.itemRenderer}))},n._getLoadingGroup=function(){var e=this._loadingGrid,t=e.getItems();return{groupKey:"__INFINITEGRID__LOADING_GRID",type:a.NORMAL,grid:e,items:t,renderItems:t}},n._getLoadingItem=function(){return this._loadingGrid.getLoadingItem()},t.defaultOptions=eC(eC({},ey.defaultOptions),{appliedItemChecker:function(){return!1},gridConstructor:null,gridOptions:{}}),t.propertyTypes=eC(eC({},ey.propertyTypes),{gridConstructor:i.PROPERTY,gridOptions:i.PROPERTY}),t=eP([ec],t)}(ey),e9=function(e){function t(t){var n=e.call(this)||this;return n.startCursor=-1,n.endCursor=-1,n.size=0,n.items=[],n.itemKeys={},n.options=eC({threshold:0,useRecycle:!0,defaultDirection:"end"},t),n}ez(t,e);var n=t.prototype;return n.scroll=function(e){var t,n,r=this.startCursor,i=this.endCursor,o=this.items,s=o.length,a=this.size,u=this.options,c=u.defaultDirection,h=u.threshold,l=u.useRecycle,f="end"===c;if(!s)return void this.trigger(f?"requestAppend":"requestPrepend",{key:void 0,isVirtual:!1});if(-1===r||-1===i){var d=f?0:s-1;this.trigger("change",{prevStartCursor:r,prevEndCursor:i,nextStartCursor:d,nextEndCursor:d});return}var p=e+a,g=Math.max.apply(Math,o[r].startOutline),m=Math.min.apply(Math,o[i].endOutline),y=o.map(function(t){var n=t.startOutline,r=t.endOutline;if(!n.length||!r.length||eJ(n,r))return!1;var i=Math.min.apply(Math,n),o=Math.max.apply(Math,r);return!!(i-h<=p)&&!!(e<=o+h)}),v=0<r,R=i<s-1,_=e<=g+h,S=p>=m-h,E=y.indexOf(!0),I=y.lastIndexOf(!0);-1===E&&(E=r,I=i),l||(E=Math.min(E,r),I=Math.max(I,i)),E===r&&v&&_&&(E-=1),I===i&&R&&S&&(I+=1);var z=o.slice(E,I+1);if(z.every(function(e){return!0===e.isVirtual})){for(var C=!1,O=E-1;O>=0;--O)if(!o[O].isVirtual){E=O,C=!0;break}if(!C){for(var O=I+1;O<s;++O)if(!o[O].isVirtual){I=O,C=!0;break}}C&&(z=o.slice(E,I+1))}var P=z.some(function(e){return!0===e.isVirtual});if(r===E&&i===I||(this.trigger("change",{prevStartCursor:r,prevEndCursor:i,nextStartCursor:E,nextEndCursor:I}),P))if(P){var b=null==(t=z[0])?void 0:t.isVirtual,w=null==(n=z[z.length-1])?void 0:n.isVirtual;if(f&&S||!b){if((f||!_)&&w){var T=e$(z,function(e){return!e.isVirtual}),x=T+1;z[x]&&this.trigger("requestAppend",{key:T>-1?z[T].key:void 0,nextKey:z[x].key,nextKeys:z.slice(x).map(function(e){return e.key}),isVirtual:!0})}}else{var T=eQ(z,function(e){return!e.isVirtual}),M=(-1===T?z.length:T)-1;z[M]&&this.trigger("requestPrepend",{key:T>-1?z[T].key:void 0,nextKey:z[M].key,nextKeys:z.slice(0,M+1).map(function(e){return e.key}),isVirtual:!0})}}else!this._requestVirtualItems()&&(f&&S||!_?(f||!_)&&S&&this.trigger("requestAppend",{key:o[i].key,isVirtual:!1}):this.trigger("requestPrepend",{key:o[r].key,isVirtual:!1}))},n._requestVirtualItems=function(){var e="end"===this.options.defaultDirection,t=this.items,n=this.getVisibleItems(),r=n.filter(function(e){return!e.isVirtual}),i=n.length,o=r.length,s=this.getStartCursor(),a=this.getEndCursor();if(o===i);else if(o){var u=r[0].key,c=r[o-1].key,h=eQ(t,function(e){return e.key===u})-1,l=eQ(t,function(e){return e.key===c})+1,f=l<=a,d=h>=s;if((e||!d)&&f)return this.trigger("requestAppend",{key:c,nextKey:t[l].key,isVirtual:!0}),!0;if((!e||!f)&&d)return this.trigger("requestPrepend",{key:u,nextKey:t[h].key,isVirtual:!0}),!0}else if(i){var p=n[i-1];return e?this.trigger("requestAppend",{nextKey:n[0].key,isVirtual:!0}):this.trigger("requestPrepend",{nextKey:p.key,isVirtual:!0}),!0}return!1},n.setCursors=function(e,t){this.startCursor=e,this.endCursor=t},n.setSize=function(e){this.size=e},n.getStartCursor=function(){return this.startCursor},n.getEndCursor=function(){return this.endCursor},n.isLoading=function(e){var t=this.startCursor,n=this.endCursor,r=this.items,i=r[t],o=r[n],s=r.length;return(e!==eD.END||!(n>-1)||!(n<s-1)||!!o.isVirtual||!!eJ(o.startOutline,o.endOutline))&&(e!==eD.START||!(t>0)||!!i.isVirtual||!!eJ(i.startOutline,i.endOutline))},n.setItems=function(e){this.items=e;var t={};e.forEach(function(e){t[e.key]=e}),this.itemKeys=t},n.syncItems=function(e){var t=this.items,n=this.startCursor,r=this.endCursor,i=eB(this.items.map(function(e){return e.key}),e.map(function(e){return e.key}),n,r),o=i.startCursor,s=i.endCursor,a=s-o!=r-n||-1===n||-1===o;if(!a){var u=_(t.slice(n,r+1),e.slice(o,s+1),function(e){return e.key});a=u.added.length>0||u.removed.length>0||u.changed.length>0}return this.setItems(e),this.setCursors(o,s),a},n.getItems=function(){return this.items},n.getVisibleItems=function(){var e=this.startCursor,t=this.endCursor;return -1===e?[]:this.items.slice(e,t+1)},n.getSize=function(){return this.size},n.getItemByKey=function(e){return this.itemKeys[e]},n.getItemPartByKey=function(e){var t;return this.items.forEach(function(n){var r;null==(r=n.parts)||r.forEach(function(n){n.key===e&&(t=n)})}),t},n.getScrollSize=function(){var e=this.items,t=e.length;return t?Math.max.apply(Math,eb([0],e[t-1].endOutline,!1)):0},n.getVisibleArea=function(e,t){void 0===t&&(t=this.options.defaultDirection);var n,r=t===eD.END,i=this.getRenderedVisibleItems();if(!i.length)return null;var o=i[r?0:length-1],s=r?Math.min.apply(Math,o.startOutline):Math.max.apply(Math,o.endOutline);return r?i.forEach(function(t){var r;null==(r=t.parts)||r.forEach(function(t){(!n||!(n.pos>=t.pos))&&s<t.pos&&t.pos<=e&&(n=t,s=t.pos)})}):i.forEach(function(t){var r;null==(r=t.parts)||r.forEach(function(t){var r=t.pos+t.size;(!n||!(n.pos+n.size<=r))&&s>r&&r>=e&&(n=t,s=r)})}),{item:o,part:n}},n.getRenderedVisibleItems=function(){var e=this.getVisibleItems(),t=e.map(function(e){var t=e.startOutline,n=e.endOutline,r=t.length;return 0!==r&&r===n.length&&t.some(function(e,t){return n[t]!==e})}),n=t.indexOf(!0),r=t.lastIndexOf(!0);return -1===r?[]:e.slice(n,r+1)},n.destroy=function(){this.off(),this.startCursor=-1,this.endCursor=-1,this.items=[],this.size=0},t}(p),e4=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.items=[],t.container=null,t.rendererKey=0,t._updateTimer=0,t._state={},t._isItemChanged=!1,t}ez(t,e);var n=t.prototype;return n.updateKey=function(){this.rendererKey=Date.now()},n.getItems=function(){return this.items},n.setContainer=function(e){this.container=e},n.render=function(e,t){return this.syncItems(e,t)},n.update=function(e){var t=this;void 0===e&&(e={}),this._state=eC(eC({},this._state),e),this.trigger("update",{state:e}),clearTimeout(this._updateTimer),this._updateTimer=window.setTimeout(function(){t.trigger("requestUpdate",{state:e})})},n.updated=function(e){void 0===e&&(e=null!=(n=null==(t=this.container)?void 0:t.children)?n:[]);var t,n,r=this._diffResult,i=!!(r.added.length||r.removed.length||r.changed.length),o=this._state,s=this._isItemChanged,a=r.list;return this._isItemChanged=!1,this._state={},this.items=a,a.forEach(function(t,n){t.element=e[n]}),this.trigger("updated",{items:a,elements:eX(e),diffResult:this._diffResult,state:o,isItemChanged:s,isChanged:i}),i},n.syncItems=function(e,t){void 0===t&&(t={});var n=this.rendererKey,r=_(this.items,e.map(function(e){return eC(eC({},e),{renderKey:"".concat(n,"_").concat(e.key)})}),function(e){return e.renderKey});return this._isItemChanged=!!r.added.length||!!r.removed.length||!!r.changed.length,this._state=eC(eC({},this._state),t),this._diffResult=r,r},n.destroy=function(){this.off()},t}(p),e5=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ez(t,e),t.prototype.syncItems=function(t){var n=e.prototype.syncItems.call(this,t),r=n.added,i=n.list;return r.forEach(function(e){var n=t[e].orgItem;n.html&&!n.element&&(n.element=eW(n.html)[0]),i[e].element=n.element}),n},t}(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ez(t,e),t.prototype.render=function(t,n){var r=this.container,i=e.prototype.render.call(this,t,n),o=i.prevList,s=i.removed,a=i.ordered,u=i.added,c=i.list,h=eb([],o,!0);return s.forEach(function(e){h.splice(e,1),r.removeChild(o[e].element)}),a.forEach(function(e){var t,n,i=e[0],o=e[1],s=h.splice(i,1)[0];h.splice(o,0,s),r.insertBefore(s.element,null!=(n=null==(t=h[o+1])?void 0:t.element)?n:null)}),u.forEach(function(e){var t,n,i=c[e];h.splice(e,0,i),r.insertBefore(i.element,null!=(n=null==(t=h[e+1])?void 0:t.element)?n:null)}),this.updated(r.children),i},t}(e4)),e7=function(e){function t(t,n){var r=e.call(this)||this;return r.wrapper=t,r.prevScrollPos=null,r.scrollOffset=0,r.contentSize=0,r._isScrollIssue=eT,r._onCheck=function(){var e=r.getScrollPos(),t=r.getOrgScrollPos();if(r.setScrollPos(t),null===e||r._isScrollIssue&&0===t||e===t){t&&(r._isScrollIssue=!1);return}r._isScrollIssue=!1,r.trigger(new d("scroll",{direction:e<t?"end":"start",scrollPos:t,relativeScrollPos:r.getRelativeScrollPos()}))},r.options=eC({container:!1,containerTag:"div",horizontal:!1,scrollContainer:null},n),r._init(),r}ez(t,e);var n=t.prototype;return n.getWrapper=function(){return this.wrapper},n.getContainer=function(){return this.container},n.getScrollContainer=function(){return this.scrollContainer},n.getScrollOffset=function(){return this.scrollOffset},n.getContentSize=function(){return this.contentSize},n.getRelativeScrollPos=function(){return(this.prevScrollPos||0)-this.scrollOffset},n.getScrollPos=function(){return this.prevScrollPos},n.setScrollPos=function(e){this.prevScrollPos=e},n.getOrgScrollPos=function(){var e=this.eventTarget,t=this.options.horizontal,n="scroll".concat(t?"Left":"Top");return eG(e)?window[t?"pageXOffset":"pageYOffset"]||document.documentElement[n]||document.body[n]:e[n]},n.setStatus=function(e){this.contentSize=e.contentSize,this.scrollOffset=e.scrollOffset,this.prevScrollPos=e.prevScrollPos,this.scrollTo(this.prevScrollPos)},n.getStatus=function(){return{contentSize:this.contentSize,scrollOffset:this.scrollOffset,prevScrollPos:this.prevScrollPos}},n.scrollTo=function(e){var t=this.eventTarget,n=this.options.horizontal?[e,0]:[0,e],r=n[0],i=n[1];eG(t)?t.scroll(r,i):(t.scrollLeft=r,t.scrollTop=i)},n.scrollBy=function(e){if(e){var t=this.eventTarget,n=this.options.horizontal?[e,0]:[0,e],r=n[0],i=n[1];this.prevScrollPos+=e,eG(t)?t.scrollBy(r,i):(t.scrollLeft+=r,t.scrollTop+=i)}},n.resize=function(){var e=this.scrollContainer,t=this.options.horizontal,n=e===document.body,r=n?{top:0,left:0}:e.getBoundingClientRect(),i=this.container.getBoundingClientRect();this.scrollOffset=(this.getOrgScrollPos()||0)+(t?i.left-r.left:i.top-r.top),n?this.contentSize=t?window.innerWidth:window.innerHeight:this.contentSize=t?e.offsetWidth:e.offsetHeight},n.destroy=function(){var e=this.container;if(this.eventTarget.removeEventListener("scroll",this._onCheck),this._isCreateElement){var t=this.scrollContainer,n=document.createDocumentFragment(),r=eX(e.childNodes);t.removeChild(e),r.forEach(function(e){n.appendChild(e)}),t.appendChild(n)}else this.options.container&&(e.style.cssText=this._orgCSSText)},n._init=function(){var e,t=this.options,n=t.container,r=t.containerTag,i=t.horizontal,o=t.scrollContainer,s=this.wrapper,a=s,u=s,c="";if(n){!0===n?((u=document.createElement(r)).style.position="relative",u.className="infinitegrid-container",eX(a.childNodes).forEach(function(e){u.appendChild(e)}),a.appendChild(u),this._isCreateElement=!0):u=eE(n),c=u.style.cssText;var h=a.style;h.overflowX=(e=i?["scroll","hidden"]:["hidden","scroll"])[0],h.overflowY=e[1],i&&(u.style.height="100%")}else a=eE(o)||document.body,c=u.style.cssText;var l=a===document.body?window:a;l.addEventListener("scroll",this._onCheck),this._orgCSSText=c,this.container=u,this.scrollContainer=a,this.eventTarget=l,this.resize(),this.setScrollPos(this.getOrgScrollPos())},t}(p),e8=function(e){function t(t,n){var r=e.call(this)||this;r._waitType="",r._onScroll=function(e){var t=e.direction,n=e.scrollPos,i=e.relativeScrollPos;r._scroll(),r.trigger(new d(eL.CHANGE_SCROLL,{direction:t,scrollPos:n,relativeScrollPos:i}))},r._onChange=function(e){r.setCursors(e.nextStartCursor,e.nextEndCursor)},r._onRendererUpdated=function(e){if(e.items.forEach(function(e){e.orgItem.element=e.element}),!e.isChanged){r._checkEndLoading(),r._scroll();return}var t=e.diffResult,n=t.added,i=t.removed,s=t.prevList,a=t.list;i.forEach(function(e){var t=s[e].orgItem;t.mountState!==o.UNCHECKED&&(t.mountState=o.UNMOUNTED)});var c=r.options.horizontal,h=n.map(function(e){var t=a[e].orgItem,n=t.element;if(t.type===u.VIRTUAL){var r=eC({},t.cssRect),i=t.rect;return!r.width&&i.width&&(r.width=i.width),!r.height&&i.height&&(r.height=i.height),new em(c,{element:n,cssRect:r})}return t}),l=r.containerManager;r.options.observeChildren&&(l.unobserveChildren(i.map(function(e){return s[e].element})),l.observeChildren(n.map(function(e){return a[e].element})));var f=e.state,d=f.isRestore,p=f.isResize;r.itemRenderer.renderItems(h),d&&r._onRenderComplete({mounted:n.map(function(e){return a[e].orgItem}),updated:[],isResize:!1,direction:r.defaultDirection}),(!d||p||e.isItemChanged)&&r.groupManager.renderItems()},r._onResize=function(e){if(e.isResizeContainer)r._renderItems({useResize:!0},!0);else{var t=en(r.getVisibleItems(),e.childEntries);t.length>0&&r.updateItems(t)}},r._onRequestAppend=function(e){r._onRequestInsert(eD.END,eL.REQUEST_APPEND,e)},r._onRequestPrepend=function(e){r._onRequestInsert(eD.START,eL.REQUEST_PREPEND,e)},r._onContentError=function(e){var t=e.element,n=e.target,i=e.item,o=e.update;r.trigger(new d(eL.CONTENT_ERROR,{element:t,target:n,item:i,update:o,remove:function(){r.removeByKey(i.key)}}))},r._onRenderComplete=function(e){var t=e.isResize,n=e.mounted,i=e.updated,o=e.direction,s=r.infinite,a=r.scrollManager.getRelativeScrollPos(),c=s.getScrollSize(),h=s.getSize(),l=s.getVisibleArea(a,o),f=o===eD.END;if(r._syncInfinite(),l){var p=l.part,g=l.item,m=void 0,y=void 0;if(p&&(m=s.getItemPartByKey(p.key)),g&&(y=s.getItemByKey(g.key)),m||y){var v=0,R=0;if(m)R=m.pos+(f?0:m.size),v=p.pos+(f?0:p.size);else{var _=Math.min.apply(Math,g.startOutline),S=Math.max.apply(Math,g.endOutline),E=Math.min.apply(Math,y.startOutline),I=Math.max.apply(Math,y.endOutline);R=f?E:I,v=f?_:S}var z=R-v;if(z<0){var C=s.getScrollSize(),O=s.getSize(),P=Math.max(a-Math.max(0,c-h),0),b=Math.min(a,Math.max(0,C-O))+P;z+=a-b}r.scrollManager.scrollBy(z)}}var w=n.filter(function(e){return e.type!==u.LOADING});r.trigger(new d(eL.RENDER_COMPLETE,{isResize:t,direction:o,mounted:w,updated:i.filter(function(e){return e.type!==u.LOADING}),startCursor:r.getStartCursor(),endCursor:r.getEndCursor(),items:r.getVisibleItems(!0),groups:r.getVisibleGroups(!0)}));var T=r.groupManager.shouldRerenderItems();(w.length||i.length)&&(T||(T=!!r.groupManager.endLoading())),T?r._update():(r._checkEndLoading(),r._scroll())},r.options=eC(eC(eC({},r.constructor.defaultOptions),{renderer:new e5().on("requestUpdate",function(){return r._render()})}),n);var i=r.options,s=i.gridConstructor,a=i.containerTag,c=i.container,h=i.renderer,l=i.threshold,f=i.useRecycle,p=i.scrollContainer,g=i.appliedItemChecker,m=eO(i,["gridConstructor","containerTag","container","renderer","threshold","useRecycle","scrollContainer","appliedItemChecker"]),y=m.horizontal,v=m.attributePrefix,R=m.useTransform,_=m.percentage,S=m.isConstantSize,E=m.isEqualSize,I=m.autoResize,z=m.useResizeObserver,C=m.resizeDebounce,O=m.maxResizeDebounce,P=m.defaultDirection,b=m.useRoundedSize,w=eV(t)?document.querySelector(t):t,T=new e7(w,{scrollContainer:p,container:c,containerTag:a,horizontal:y}).on({scroll:r._onScroll}),x=T.getContainer(),M=new ep(x,{horizontal:y,autoResize:I,resizeDebounce:C,maxResizeDebounce:O,useResizeObserver:z}).on("resize",r._onResize),D=new eg({attributePrefix:v,horizontal:y,useTransform:R,percentage:_,isEqualSize:E,isConstantSize:S,useRoundedSize:b}),L=new e9({defaultDirection:P,useRecycle:f,threshold:l}).on({change:r._onChange,requestAppend:r._onRequestAppend,requestPrepend:r._onRequestPrepend});L.setSize(T.getContentSize());var k=new e3(x,{appliedItemChecker:g,gridConstructor:s,externalItemRenderer:D,externalContainerManager:M,gridOptions:m});return k.on({renderComplete:r._onRenderComplete,contentError:r._onContentError}),h.setContainer(x),h.on("updated",r._onRendererUpdated),r.itemRenderer=D,r.groupManager=k,r.wrapperElement=w,r.scrollManager=T,r.containerManager=M,r.infinite=L,r.containerManager.resize(),r}ez(t,e);var n=t.prototype;return n.renderItems=function(e){return void 0===e&&(e={}),this._renderItems(e),this},n.getWrapperElement=function(){return this.scrollManager.getWrapper()},n.getScrollContainerElement=function(){return this.scrollManager.getScrollContainer()},n.getContainerElement=function(){return this.scrollManager.getContainer()},n.syncItems=function(e){return this.groupManager.syncItems(e),this._syncGroups(),this},n.setCursors=function(e,t,n){return this.groupManager.setCursors(e,t),this.infinite.setCursors(e,t),n?(this.getVisibleItems().forEach(function(e){-9999===e.cssRect.top&&(e.cssRect={})}),this._syncItems()):(this._update(),this._checkEndLoading()),this},n.getStartCursor=function(){return this.infinite.getStartCursor()},n.getEndCursor=function(){return this.infinite.getEndCursor()},n.append=function(e,t){return this.insert(-1,e,t)},n.prepend=function(e,t){return this.insert(0,e,t)},n.insert=function(e,t,n){var r=this.groupManager.getGroupItems(),i=eZ(t,n);return -1===e?r.push.apply(r,i):r.splice.apply(r,eb([e,0],i,!1)),this.syncItems(r)},n.insertByGroupIndex=function(e,t,n){var r=this.groupManager.getGroups()[e];if(!r)return this.append(t,n);var i=this.groupManager.getGroupItems(),o=r.groupKey,s=eQ(i,function(e){return e.groupKey===o});return this.insert(s,t,n)},n.getStatus=function(e,t){return{containerManager:this.containerManager.getStatus(),itemRenderer:this.itemRenderer.getStatus(),groupManager:this.groupManager.getGroupStatus(e,t),scrollManager:this.scrollManager.getStatus()}},n.setPlaceholder=function(e){return this.groupManager.setPlaceholder(e),this},n.setLoading=function(e){return this.groupManager.setLoading(e),this},n.appendPlaceholders=function(e,t){var n=this,r=this.groupManager.appendPlaceholders(e,t);return this._syncGroups(!0),eC(eC({},r),{remove:function(){n.removePlaceholders({groupKey:r.group.groupKey})}})},n.prependPlaceholders=function(e,t){var n=this,r=this.groupManager.prependPlaceholders(e,t);return this._syncGroups(!0),eC(eC({},r),{remove:function(){n.removePlaceholders({groupKey:r.group.groupKey})}})},n.removePlaceholders=function(e){this.groupManager.removePlaceholders(e),this._syncGroups(!0)},n.setStatus=function(e,t){this.itemRenderer.setStatus(e.itemRenderer),this.containerManager.setStatus(e.containerManager),this.scrollManager.setStatus(e.scrollManager);var n=this.groupManager,r=this.containerManager.getInlineSize();n.setGroupStatus(e.groupManager),this._syncInfinite(),this.infinite.setCursors(n.getStartCursor(),n.getEndCursor()),this._getRenderer().updateKey();var i={isResize:this.containerManager.getInlineSize()!==r,isRestore:!0};return t?this._syncItems(i):this._update(i),this},n.removeGroupByIndex=function(e){var t=this.getGroups();return this.removeGroupByKey(t[e].groupKey)},n.removeGroupByKey=function(e){var t=this.getItems(),n=eQ(t,function(t){return t.groupKey===e}),r=e$(t,function(t){return t.groupKey===e});return -1===n?this:(t.splice(n,r-n+1),this.syncItems(t))},n.removeByIndex=function(e){var t=this.getItems(!0);return t.splice(e,1),this.syncItems(t)},n.removeByKey=function(e){var t=eQ(this.getItems(!0),function(t){return t.key===e});return this.removeByIndex(t)},n.updateItems=function(e,t){return void 0===t&&(t={}),this.groupManager.updateItems(e,t),this},n.getItems=function(e){return this.groupManager.getGroupItems(e)},n.getVisibleItems=function(e){return this.groupManager.getVisibleItems(e)},n.getRenderingItems=function(){return this.groupManager.getRenderingItems()},n.getGroups=function(e){return this.groupManager.getGroups(e)},n.getVisibleGroups=function(e){return this.groupManager.getVisibleGroups(e)},n.wait=function(e){void 0===e&&(e=eD.END),this._waitType=e,this._checkStartLoading(e)},n.ready=function(e){this._waitType="",e&&(this.groupManager.waitEndLoading(),this.groupManager.endLoading()&&this._update())},n.isWait=function(){return!!this._waitType},n.destroy=function(){this.off(),this._getRenderer().destroy(),this.containerManager.destroy(),this.groupManager.destroy(),this.scrollManager.destroy(),this.infinite.destroy()},n._getRenderer=function(){return this.options.renderer},n._getRendererItems=function(){return this.getRenderingItems().map(function(e){return{element:e.element,key:"".concat(e.type,"_").concat(e.key),orgItem:e}})},n._syncItems=function(e){this._getRenderer().syncItems(this._getRendererItems(),e)},n._render=function(e){this._getRenderer().render(this._getRendererItems(),e)},n._update=function(e){void 0===e&&(e={}),this._getRenderer().update(e)},n._resizeScroll=function(){var e=this.scrollManager;e.resize(),this.infinite.setSize(e.getContentSize())},n._syncGroups=function(e){var t=this.infinite;this.scrollManager.getContentSize()||this._resizeScroll(),this._syncInfinite(),this.groupManager.setCursors(t.getStartCursor(),t.getEndCursor()),e?this._update():this._render()},n._syncInfinite=function(){this.infinite.syncItems(this.getGroups(!0).map(function(e){var t=e.groupKey,n=e.grid,r=e.type,i=n.getOutlines();return{key:t,isVirtual:r===a.VIRTUAL,startOutline:i.start,endOutline:i.end,parts:n.getItems().map(function(e){return{key:e.key,pos:e.computedContentPos,size:e.computedContentSize}})}}))},n._scroll=function(){this.infinite.scroll(this.scrollManager.getRelativeScrollPos())},n._onRequestInsert=function(e,t,n){var r=this;if(this._waitType)return void this._checkStartLoading(this._waitType);this.trigger(new d(t,{groupKey:n.key,nextGroupKey:n.nextKey,nextGroupKeys:n.nextKeys||[],isVirtual:n.isVirtual,wait:function(){r.wait(e)},ready:function(e){r.ready(e)}}))},n._renderItems=function(e,t){if(void 0===e&&(e={}),!t&&e.useResize&&this.containerManager.resize(),this._resizeScroll(),!this.getRenderingItems().length){var n=eX(this.getContainerElement().children);return n.length>0?(this.groupManager.syncItems(eZ(n)),this._syncInfinite(),this.setCursors(0,0,!0),this._getRenderer().updated()):this.infinite.scroll(0),this}return this.getVisibleGroups(!0).length?this.groupManager.renderItems(e):this.setCursors(0,0),this},n._checkStartLoading=function(e){var t=this.groupManager,n=this.infinite;!t.getLoadingType()&&n.isLoading(e)&&t.startLoading(e)&&t.hasLoadingItem()&&this._update()},n._checkEndLoading=function(){var e=this.groupManager,t=this.groupManager.getLoadingType();t&&(!this._waitType||!this.infinite.isLoading(t))&&e.waitEndLoading()&&e.hasLoadingItem()&&this._update()},t.defaultOptions=eC(eC({},J),{container:!1,containerTag:"div",renderer:null,threshold:100,useRecycle:!0,scrollContainer:null,appliedItemChecker:function(){return!1}}),t.propertyTypes=eM,t=eP([eH],t)}(p),e6=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ez(t,e),t.propertyTypes=eC(eC({},e8.propertyTypes),eS.propertyTypes),t.defaultOptions=eC(eC(eC({},e8.defaultOptions),eS.defaultOptions),{gridConstructor:eS}),t=eP([eH],t)}(e8),te=function(e,t){return(te=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function tt(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}te(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var tn=function(){return(tn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var tr={onContentError:"contentError",onRenderComplete:"renderComplete",onRequestAppend:"requestAppend",onRequestPrepend:"requestPrepend",onChangeScroll:"changeScroll"},ti=[];for(var to in tr)ti.push(to);var ts=function(e,t,n){if(n||2==arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}(["tag","placeholder","status","useFirstRender","loading","itemBy","groupBy","infoBy"],ti,!0);function ta(e){return"function"==typeof e}var tu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return tt(t,e),t.GridClass=e6,t}(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._wrapperRef=(0,h.createRef)(),t._containerRef=(0,h.createRef)(),t}tt(t,e);var n=t.prototype;return n.render=function(){var e={},t=this.props,n=this.constructor.GridClass.defaultOptions,r=t.tag||"div";for(var i in t)i in n||ts.indexOf(i)>-1||(e[i]=t[i]);return(0,h.createElement)(r,tn({ref:this._wrapperRef},e),this._renderContainer())},n.componentDidMount=function(){var e,t,n,r,i,o,s,a=this,u=this.constructor.GridClass,c=u.defaultOptions,h={},l=this.props,f=this._containerRef.current;for(var d in c)d in l&&(h[d]=l[d]);f&&(h.container=f),this._renderer=new e4,h.renderer=this._renderer;var p=new u(this._wrapperRef.current,h),g=function(e){var t=tr[e];p.on(t,function(t){var n=a.props[e];n&&n(t)})};for(var m in tr)g(m);this._grid=p,this._renderer.on("update",function(){a.setState({})}),e=this._getItemInfos(),n=(t={grid:p,useFirstRender:l.useFirstRender,useLoading:l.loading,usePlaceholder:l.placeholder,horizontal:l.horizontal,status:l.status}).grid,r=t.usePlaceholder,i=t.useLoading,o=t.useFirstRender,s=t.status,n&&(r&&n.setPlaceholder({}),i&&n.setLoading({}),s&&n.setStatus(s,!0),n.syncItems(e),o&&!s&&n.getGroups().length&&n.setCursors(0,0,!0)),this._renderer.updated()},n.componentDidUpdate=function(){var e=this.constructor.GridClass.propertyTypes,t=this.props,n=this._grid;for(var r in e)r in t&&(n[r]=t[r]);this._renderer.updated()},n.componentWillUnmount=function(){this._grid.destroy()},n._getItemInfos=function(){var e=this.props,t=h.Children.toArray(e.children),n=e.attributePrefix||e8.defaultOptions.attributePrefix,r=e.itemBy||function(e){return e.key},i=e.groupBy||function(e){return e.props["".concat(n,"groupkey")]},o=e.infoBy||function(){return{}};return t.map(function(e,t){var n=o(e,t)||{},s=n.data,a=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}(n,["data"]);return tn(tn({groupKey:i(e,t),key:r(e,t)},a),{data:tn(tn({},s),{jsx:e})})})},n._renderContainer=function(){var e=this.props,t=this._getVisibleChildren(),n=e.container,r=e.containerTag||"div";return!0===n?(0,h.createElement)(r,{ref:this._containerRef},t):t},n._getVisibleChildren=function(){var e=this.props,t=e.placeholder,n=e.loading;return(function(e,t){var n,r,i,o,s,a,c,h,l,f,d,p,g,m=t.status,y=t.usePlaceholder,v=t.useLoading,R=t.horizontal,_=t.useFirstRender,S=t.grid,E=[];return S?(S.setPlaceholder(y?{}:null),S.setLoading(v?{}:null),S.syncItems(e),E=S.getRenderingItems()):m?(n=m.groupManager,r=!!R,s=eF(i=n.groups,"start",o=eq(e)),a=eF(i,"end",o),c=eb(eb(eb([],s,!0),o,!0),a,!0),l=(h=eB(i.map(function(e){return e.groupKey}),c.map(function(e){return e.groupKey}),n.cursors[0],n.cursors[1])).startCursor,f=h.endCursor,d=eU(c.slice(l,f+1).map(function(e){return e.items.map(function(e){return new eN(r,eC({},e))})})),y||(d=d.filter(function(e){return e.type!==u.VIRTUAL})),E=d):_&&(p=!!R,E=(g=eq(e))[0]?g[0].items.map(function(e){return new eN(p,eC({},e))}):[]),E})(this._getItemInfos(),{grid:this._grid,status:e.status,horizontal:e.horizontal,useFirstRender:e.useFirstRender,useLoading:e.loading,usePlaceholder:e.placeholder}).map(function(e){return e.type===u.VIRTUAL?(0,h.cloneElement)(ta(t)?t(e):t,{key:e.key}):e.type===u.LOADING?(0,h.cloneElement)(ta(n)?n(e):n,{key:e.key}):e.data.jsx})},!function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);o>3&&s&&Object.defineProperty(t,n,s)}([e2],t.prototype,"_grid",void 0),t}(h.Component))}}]);